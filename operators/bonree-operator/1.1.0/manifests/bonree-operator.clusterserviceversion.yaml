---
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: '[]'
    capabilities: Deep Insights
    categories: Monitoring,Logging & Tracing
    containerImage: quay.io/bonree/smartagent-operator@sha256:bf9a6a432646a78cc00a7da6ab2b0d2a2f9988ccb1b64503c04606ef1450dde9
    createdAt: 2025-08-20T08:11:00.573607
    features.operators.openshift.io/disconnected: "true"
    features.operators.openshift.io/fips-compliant: "false"
    features.operators.openshift.io/proxy-aware: "true"
    features.operators.openshift.io/tls-profiles: "false"
    features.operators.openshift.io/token-auth-aws: "false"
    features.operators.openshift.io/token-auth-azure: "false"
    features.operators.openshift.io/token-auth-gcp: "false"
    olm.skipRange: <1.1.0
    operatorframework.io/suggested-namespace: bonree-agent
    operators.openshift.io/valid-subscription: '["Bonree Platform Subscription (BPS)","Bonree
      Classic License"]'
    operators.operatorframework.io/builder: operator-sdk-v1.15.0+git
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v3
    support: Bonree Data Technology Co.,Ltd.
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.arm64: supported
  name: bonree-operator.v1.1.0
  namespace: bonree-agent
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: SmartKube is the Schema for the smartkubes API
      displayName: Smart Kube
      kind: SmartKube
      name: smartkubes.bonree.com
      resources:
      - kind: DaemonSet
        name: ""
        version: v1
      - kind: Pod
        name: ""
        version: v1
      specDescriptors:
      - description: Location of the SmartKube API to connect to
        displayName: API URL
        path: apiUrl
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Name of the secret holding the API and PaaS tokens. Default SmartKube
        displayName: API and PaaS Tokens
        path: tokens
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: 'Optional: Enable Agent Types, example: -t "java,php,dotnet,python,nodejs,nginx,go,apache,javanative"'
        displayName: Skip Certificate Check
        path: agentTypes
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Disable certificate validation checks for installer download
          and API communication
        displayName: Skip Certificate Check
        path: skipCertCheck
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: 'Optional: Adds custom RootCAs from a configmap This property
          only affects certificates used to communicate with the Bonree Platform API.'
        displayName: Trusted CAs
        path: trustedCAs
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:io.kubernetes:ConfigMap
      - description: 'Optional: Sets Network Zone for SmartAgent pods or serverless
          deployments'
        displayName: Network Zone
        path: networkZone
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: Sets Cluster Name for SmartAgent pods or serverless
          deployments'
        displayName: Cluster Name
        path: clusterName
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: Sets Env Id for SmartAgent pods or serverless deployments'
        displayName: Env ID
        path: envId
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: Sets host attributes for SmartAgent pods or serverless
          deployments'
        displayName: Host Attributes
        path: hostAttributes
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: Sets host tags for SmartAgent pods or serverless deployments'
        displayName: Host Tags
        path: hostTags
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: URL of the Bonree controller, e.g. https://oneupload.bonree.com/APM.
          Used by the agent to upload metrics.
        displayName: Controller URL
        path: controllerInfo.controllerUrl
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: If specified, indicates the SmartAgent version to
          use Example: 5.0.0'
        displayName: SmartAgent version
        path: smartAgent.version
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: URL of the Bonree log controller, e.g. https://onelog.joinbr.com/controller/logs.
          Used by the log agent to upload log data.
        displayName: Log Controller URL
        path: controllerInfo.logControllerUrl
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: the SmartAgent installer container image Defaults
          to docker.bonree.com/agent/smartagent:latest'
        displayName: Image
        path: smartAgent.image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Account GUID associated with the Bonree platform.
        displayName: Account GUID
        path: controllerInfo.accountGUID
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Disable automatic restarts of SmartAgent pods in case a new version
          is available
        displayName: Automatically update Agent
        path: smartAgent.autoUpdate
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Enables Application monitoring, bonree-webhook injects into application
          pods based on labeled namespaces. Has an optional CSI driver per node via
          DaemonSet to provide binaries to pods.
        displayName: Application Monitoring
        path: agentModules.enabled
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:booleanSwitch
      - description: Define resources requests and limits for the initContainer. For
          details, see Managing resources for containers (https://kubernetes.io/docs/concepts/configuration/manage-resources-containers).
        displayName: Resource Requirements
        path: agentModules.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: '[Since 1.1.0] Optional: Install agentModules from image if specified'
        displayName: SmartAgent Serverless Image
        path: agentModules.image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Enables FullStack Monitoring Has a single SmartAgent per node
          via DaemonSet. Injection is performed via the same SmartAgent DaemonSet.
        displayName: FullStack Monitoring
        path: classicFullStack.enabled
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:booleanSwitch
      - description: Node selector to control the selection of nodes (optional)
        displayName: Node Selector
        path: classicFullStack.nodeSelector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:Node
      - description: 'Optional: set tolerations for the SmartAgent pods'
        displayName: Tolerations
        path: classicFullStack.tolerations
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:hidden
      - description: 'Optional: Defines the time to wait until SmartAgent pod is ready
          after update - default 300 sec'
        displayName: Wait seconds until ready
        path: classicFullStack.waitReadySeconds
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: 'Optional: define resources requests and limits for single pods'
        displayName: Resource Requirements
        path: classicFullStack.resources
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: 'Optional: Arguments to the SmartAgent installer'
        displayName: SmartAgent installer arguments
        path: classicFullStack.args
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:hidden
      - description: 'Optional: List of environment variables to set for the installer'
        displayName: SmartAgent environment variable installer arguments
        path: classicFullStack.env
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:hidden
      - description: 'Optional: If specified, indicates the pod''s priority. Name
          must be defined by creating a PriorityClass object with that name. If not
          specified the setting will be removed from the DaemonSet.'
        displayName: Priority Class name
        path: classicFullStack.priorityClassName
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:io.kubernetes:PriorityClass
      - description: 'Optional: Sets DNS Policy for the SmartAgent pods'
        displayName: DNS Policy
        path: classicFullStack.dnsPolicy
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: 'Optional: Adds additional labels for the SmartAgent pods'
        displayName: Labels
        path: classicFullStack.labels
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:advanced
        - urn:alm:descriptor:com.tectonic.ui:text
      version: v1alpha1
  description: "The Bonree Operator supports rollout and lifecycle management of various
    Bonree components in Kubernetes and OpenShift.\n\nCurrently the Bonree Operator
    supports the following capabilities:\n  \n  ### SmartAgent\n  * `classicFullStack`
    rolls out one SmartAgent pod per node to monitor its pods and the node itself\n
    \ * `agentModules` is a webhook based injection mechanism for automatic app-only
    injection\n\n### Installation\nOnce you've installed the Bonree Operator, you
    can create a SmartKube custom resource.\n\nFirst, please add a Secret within the
    Project you've deployed the Bonree Operator to, which would contain your API and
    PaaS tokens.\n\n```\noc -n <project> create secret generic smartkube --from-literal=\"PaaSToken=<Token>\"\n```\n\nYou
    may update this Secret at any time to rotate the tokens.\n\nAfter creation of
    the secret add the SmartKube object in the project where the Bonree Operator has
    been deployed, configured to your needs.\n\n### Required Parameters\n* `apiUrl`
    - provide the URL to the API of your Bonree environment. It will look like `https://one.bonree.com/rest/apm/agentDown`.\n\n\n###
    Help\nYou can find more about our instructions in our [documentation](https://one.bonree.com/open/document/332)."
  displayName: Bonree Operator
  icon:
  - base64data: |-
      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
    mediatype: image/png
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          - pods
          - namespaces
          - services
          verbs:
          - list
          - watch
          - get
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - use
        serviceAccountName: bonree-smartkube-smartagent
      - rules:
        - apiGroups:
          - ""
          resources:
          - namespaces
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - create
          - update
        serviceAccountName: bonree-webhook
      - rules:
        - apiGroups:
          - ""
          resources:
          - nodes
          - namespaces
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - create
        - apiGroups:
          - admissionregistration.k8s.io
          resources:
          - mutatingwebhookconfigurations
          verbs:
          - list
          - create
          - watch
        - apiGroups:
          - admissionregistration.k8s.io
          resourceNames:
          - bonree-webhook
          resources:
          - mutatingwebhookconfigurations
          verbs:
          - get
          - update
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - patch
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - use
        serviceAccountName: smartagent-operator
      deployments:
      - name: bonree-webhook
        spec:
          replicas: 1
          revisionHistoryLimit: 1
          selector:
            matchLabels:
              app.kubernetes.io/component: webhook
              app.kubernetes.io/name: bonree-operator
          strategy:
            type: Recreate
          template:
            metadata:
              annotations:
                kubectl.kubernetes.io/default-logs-container: webhook
              labels:
                app.kubernetes.io/component: webhook
                app.kubernetes.io/name: bonree-operator
                app.kubernetes.io/version: 1.1.0
            spec:
              affinity:
                nodeAffinity:
                  requiredDuringSchedulingIgnoredDuringExecution:
                    nodeSelectorTerms:
                    - matchExpressions:
                      - key: beta.kubernetes.io/arch
                        operator: In
                        values:
                        - amd64
                        - arm64
                      - key: beta.kubernetes.io/os
                        operator: In
                        values:
                        - linux
                    - matchExpressions:
                      - key: kubernetes.io/arch
                        operator: In
                        values:
                        - amd64
                        - arm64
                      - key: kubernetes.io/os
                        operator: In
                        values:
                        - linux
              containers:
              - args:
                - webhook-server
                env:
                - name: POD_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                image: quay.io/bonree/smartagent-operator@sha256:bf9a6a432646a78cc00a7da6ab2b0d2a2f9988ccb1b64503c04606ef1450dde9
                imagePullPolicy: Always
                name: webhook
                ports:
                - containerPort: 8383
                  name: metrics
                - containerPort: 8443
                  name: server-port
                readinessProbe:
                  httpGet:
                    path: /livez
                    port: server-port
                    scheme: HTTPS
                  initialDelaySeconds: 60
                  periodSeconds: 10
                resources:
                  limits:
                    cpu: 600m
                    memory: 256Mi
                  requests:
                    cpu: 300m
                    memory: 128Mi
              serviceAccountName: bonree-webhook
      - name: smartagent-operator
        spec:
          replicas: 1
          revisionHistoryLimit: 1
          selector:
            matchLabels:
              name: smartagent-operator
          strategy:
            type: RollingUpdate
          template:
            metadata:
              labels:
                app.kubernetes.io/component: operator
                app.kubernetes.io/name: bonree-operator
                app.kubernetes.io/version: 1.1.0
                name: smartagent-operator
            spec:
              affinity:
                nodeAffinity:
                  requiredDuringSchedulingIgnoredDuringExecution:
                    nodeSelectorTerms:
                    - matchExpressions:
                      - key: beta.kubernetes.io/arch
                        operator: In
                        values:
                        - amd64
                        - arm64
                      - key: beta.kubernetes.io/os
                        operator: In
                        values:
                        - linux
                    - matchExpressions:
                      - key: kubernetes.io/arch
                        operator: In
                        values:
                        - amd64
                        - arm64
                      - key: kubernetes.io/os
                        operator: In
                        values:
                        - linux
              containers:
              - args:
                - operator
                env:
                - name: POD_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.namespace
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                image: quay.io/bonree/smartagent-operator@sha256:bf9a6a432646a78cc00a7da6ab2b0d2a2f9988ccb1b64503c04606ef1450dde9
                imagePullPolicy: Always
                livenessProbe:
                  httpGet:
                    path: /livez
                    port: server-port
                    scheme: HTTP
                  initialDelaySeconds: 15
                  periodSeconds: 10
                name: smartagent-operator
                ports:
                - containerPort: 8080
                  name: metrics
                - containerPort: 10080
                  name: server-port
                readinessProbe:
                  httpGet:
                    path: /livez
                    port: server-port
                    scheme: HTTP
                  initialDelaySeconds: 15
                  periodSeconds: 10
                resources:
                  limits:
                    cpu: 100m
                    memory: 256Mi
                  requests:
                    cpu: 50m
                    memory: 64Mi
              serviceAccountName: smartagent-operator
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - configmaps
          - secrets
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - pods
          verbs:
          - get
        - apiGroups:
          - bonree.com
          resources:
          - smartkubes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - create
          - patch
          - update
        serviceAccountName: bonree-webhook
      - rules:
        - apiGroups:
          - bonree.com
          resources:
          - smartkubes
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - bonree.com
          resources:
          - smartkubes/finalizers
          - smartkubes/status
          verbs:
          - update
        - apiGroups:
          - apps
          resources:
          - daemonsets
          - deployments
          - replicasets
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - apps
          resources:
          - deployments/finalizers
          verbs:
          - update
        - apiGroups:
          - ""
          resources:
          - pods
          verbs:
          - get
          - list
          - watch
          - delete
          - create
        - apiGroups:
          - ""
          resources:
          - secrets
          - services
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - create
        - apiGroups:
          - networking.istio.io
          resources:
          - serviceentries
          - virtualservices
          verbs:
          - get
          - list
          - create
          - update
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - update
          - create
        serviceAccountName: smartagent-operator
    strategy: deployment
  installModes:
  - supported: false
    type: OwnNamespace
  - supported: false
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: true
    type: AllNamespaces
  keywords:
  - monitoring
  - bonree
  - smartagent
  - observability
  links:
  - name: Bonree Operator
    url: https://one.bonree.com/open/document/332
  maintainers:
  - email: support@bonree.com
    name: Bonree Data Technology Co.,Ltd.
  maturity: alpha
  provider:
    name: Bonree Data Technology Co.,Ltd.
    url: www.bonree.com
  relatedImages:
  - image: quay.io/bonree/smartagent-operator@sha256:bf9a6a432646a78cc00a7da6ab2b0d2a2f9988ccb1b64503c04606ef1450dde9
    name: smartagent-operator
  version: 1.1.0
  webhookdefinitions:
  - admissionReviewVersions:
    - v1beta1
    - v1
    containerPort: 443
    deploymentName: bonree-webhook
    failurePolicy: Ignore
    generateName: webhook.bonree.com
    reinvocationPolicy: IfNeeded
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: Namespaced
    sideEffects: None
    targetPort: server-port
    timeoutSeconds: 2
    type: MutatingAdmissionWebhook
    webhookPath: /inject

apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: "[\n  {\"apiVersion\":\"flink.apache.org/v1beta1\",\"kind\":\"FlinkDeployment\",\"metadata\":{\"name\":\"example-flink-deployment\"},\"spec\":{}},\n  {\"apiVersion\":\"flink.apache.org/v1beta1\",\"kind\":\"FlinkSessionJob\",\"metadata\":{\"name\":\"example-flink-sessionjob\"},\"spec\":{}},\n  {\"apiVersion\":\"flink.apache.org/v1beta1\",\"kind\":\"FlinkStateSnapshot\",\"metadata\":{\"name\":\"example-flink-statesnapshot\"},\"spec\":{}}\n]"
    capabilities: Basic Install
    createdAt: "2025-09-05T16:00:03Z"
    operators.operatorframework.io/builder: operator-sdk-v1.41.0
    operators.operatorframework.io/project_layout: unknown
    features.operators.openshift.io/cnf: "false"
    features.operators.openshift.io/cni: "false"
    features.operators.openshift.io/csi: "false"
    features.operators.openshift.io/disconnected: "false"
    features.operators.openshift.io/fips: "false"
    features.operators.openshift.io/proxy-aware: "false"
    features.operators.openshift.io/fips-compliant: "false"
    features.operators.openshift.io/tls-profiles: "false"
    features.operators.openshift.io/token-auth-aws: "false"
    features.operators.openshift.io/token-auth-azure: "false"
  name: cloudera-streaming-analytics-kubernetes-operator.v1.3.0
  namespace: flink
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - kind: FlinkDeployment
        name: flinkdeployments.flink.apache.org
        version: v1beta1
      - kind: FlinkSessionJob
        name: flinksessionjobs.flink.apache.org
        version: v1beta1
      - kind: FlinkStateSnapshot
        name: flinkstatesnapshots.flink.apache.org
        version: v1beta1
  description: Run Flink and SQL Stream Builder with Cloudera Streaming Analytics Kubernetes Operator.
  displayName: CSA Operator
  icon:
    - base64data: iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2P4DwQACfsD/Qs8cYoAAAAASUVORK5CYII=
      mediatype: image/png
  install:
    spec:
      deployments:
        - name: flink-kubernetes-operator
          spec:
            replicas: 1
            strategy:
              type: Recreate
            selector:
              matchLabels:
                app.kubernetes.io/name: flink-kubernetes-operator
            template:
              metadata:
                labels:
                  app.kubernetes.io/name: flink-kubernetes-operator
                annotations:
                  kubectl.kubernetes.io/default-container: flink-kubernetes-operator
              spec:
                securityContext: null
                serviceAccountName: flink-operator
                containers:
                  - name: flink-kubernetes-operator
                    image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/flink-kubernetes-operator@sha256:34126da96852391e2b4c647a3dfb4de82d7defc44166eb29d2f0d7aa1ac27e2c
                    imagePullPolicy: IfNotPresent
                    command: ["/docker-entrypoint.sh", "operator"]
                    ports:
                      - containerPort: 8085
                        name: health-port
                        protocol: TCP
                    env:
                      - name: OPERATOR_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: HOST_IP
                        valueFrom:
                          fieldRef:
                            fieldPath: status.hostIP
                      - name: POD_IP
                        valueFrom:
                          fieldRef:
                            fieldPath: status.podIP
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: OPERATOR_NAME
                        value: flink-kubernetes-operator
                      - name: FLINK_CONF_DIR
                        value: /opt/flink/conf
                      - name: FLINK_PLUGINS_DIR
                        value: /opt/flink/plugins
                      - name: LOG_CONFIG
                        value: -Dlog4j.configurationFile=/opt/flink/conf/log4j-operator.properties
                      - name: JVM_ARGS
                        value:
                    resources:
                      limits:
                        cpu: "1"
                        memory: 1024Mi
                      requests:
                        cpu: 200m
                        memory: 1024Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                      runAsNonRoot: true
                      seccompProfile:
                        type: RuntimeDefault
                    volumeMounts:
                      - name: flink-operator-config-volume
                        mountPath: /opt/flink/conf
                      - name: flink-artifacts-volume
                        mountPath: /opt/flink/artifacts
                    livenessProbe:
                      initialDelaySeconds: 30
                      periodSeconds: 10
                      httpGet:
                        path: /
                        port: health-port
                    startupProbe:
                      failureThreshold: 30
                      periodSeconds: 10
                      httpGet:
                        path: /
                        port: health-port
                volumes:
                  - name: flink-operator-config-volume
                    configMap:
                      name: flink-operator-config
                      items:
                        - key: flink-conf.yaml
                          path: flink-conf.yaml
                        - key: log4j-operator.properties
                          path: log4j-operator.properties
                        - key: log4j-console.properties
                          path: log4j-console.properties
                  - name: flink-artifacts-volume
                    emptyDir: {}
      permissions: []
      clusterPermissions: []
    strategy: deployment
  installModes:
    - type: OwnNamespace
      supported: true
    - type: SingleNamespace
      supported: true
    - type: MultiNamespace
      supported: false
    - type: AllNamespaces
      supported: true
  keywords:
    - cloudera-streaming-analytics-kubernetes-operator
  links:
    - name: Cloudera Streaming Analytics (CSA)
      url: https://www.cloudera.com/products/stream-processing.html
  maintainers:
    - name: Cloudera
      email: support@cloudera.com
  maturity: stable
  provider:
    name: Cloudera
    url: https://www.cloudera.com
  version: 1.3.0
  minKubeVersion: 1.24.0
  relatedImages:
    - name: flink
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/flink@sha256:3df7870bffc733b71a15af88be45ac8e4306e367d5d023662427f02540e128fd
    - name: flink-kubernetes-operator
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/flink-kubernetes-operator@sha256:34126da96852391e2b4c647a3dfb4de82d7defc44166eb29d2f0d7aa1ac27e2c
    - name: ssb-sse
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/ssb-sse@sha256:68e64ff32703d8375714cad9394fda01efcc3db577ee2516968574296ea32c50
    - name: ssb-sse-hadoop
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/ssb-sse-hadoop@sha256:1693760b2b7801f82b063ef5a796fffbe46abffa4969e4e58f618a3ba81b03b1
    - name: flink-extended
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/flink-extended@sha256:73b6018cbd25b2bc1ac0b3daf84cdcfa02543941be47d067263df2d471bb305b
    - name: flink-extended-hadoop
      image: 327162129569.dkr.ecr.us-west-2.amazonaws.com/csaop/flink-extended-hadoop@sha256:3ff2929a174e55212ccb622046e3d925f1a193161cbc3ac9683dcc6fc136752e

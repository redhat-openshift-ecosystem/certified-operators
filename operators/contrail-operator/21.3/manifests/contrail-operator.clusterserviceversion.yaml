apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "tf.tungsten.io/v1alpha1",
          "kind": "Manager",
          "metadata": {
            "name": "cluster1",
            "namespace": "tf"
          },
          "spec": {
            "commonConfiguration": {
              "authParameters": {
                "authMode": "noauth"
              },
              "hostNetwork": true,
              "replicas": 3,
              "useKubeadmConfig": true
            },
            "services": {
              "analyticsAlarm": {
                "metadata": {
                  "labels": {
                    "tf_cluster": "cluster1"
                  },
                  "name": "analyticsalarm1"
                },
                "spec": {
                  "commonConfiguration": {
                    "nodeSelector": {
                      "node-role.kubernetes.io/master": ""
                    }
                  },
                  "serviceConfiguration": {
                    "cassandraInstance": "configdb1",
                    "configInstance": "config1",
                    "containers": [
                      {
                        "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                        "name": "nodemanager"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                        "name": "provisioner"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-alarm-gen@sha256:28dcefd90ad5a76dda137dd3cfd7f146388286ea40bcd674615faae1bc345fc5",
                        "name": "analytics-alarm-gen"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-external-kafka@sha256:4380c988a1d053c2625824ddbf5ee4e1bdbdc3f8b00f8b34291d840de834c1ae",
                        "name": "kafka"
                      }
                    ],
                    "logLevel": "SYS_DEBUG",
                    "rabbitmqInstance": "rabbitmq1",
                    "zookeeperInstance": "zookeeper1"
                  }
                }
              },
              "analyticsSnmp": {
                "metadata": {
                  "labels": {
                    "tf_cluster": "cluster1"
                  },
                  "name": "analyticssnmp1"
                },
                "spec": {
                  "commonConfiguration": {
                    "nodeSelector": {
                      "node-role.kubernetes.io/master": ""
                    }
                  },
                  "serviceConfiguration": {
                    "cassandraInstance": "configdb1",
                    "configInstance": "config1",
                    "containers": [
                      {
                        "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                        "name": "nodemanager"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                        "name": "provisioner"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-snmp-collector@sha256:24a3fc8d99a0668effff9f589478b8c6223cde1955b03239750f07e4b12e680d",
                        "name": "analytics-snmp-collector"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-snmp-topology@sha256:d289fbaadddcd3bd6101fa29a54838d563cb8d21d21a0aa0be8eac968f5b39ba",
                        "name": "analytics-snmp-topology"
                      }
                    ],
                    "logLevel": "SYS_DEBUG",
                    "rabbitmqInstance": "rabbitmq1",
                    "zookeeperInstance": "zookeeper1"
                  }
                }
              },
              "cassandras": [
                {
                  "metadata": {
                    "labels": {
                      "tf_cluster": "cluster1"
                    },
                    "name": "configdb1"
                  },
                  "spec": {
                    "commonConfiguration": {
                      "nodeSelector": {
                        "node-role.kubernetes.io/master": ""
                      }
                    },
                    "serviceConfiguration": {
                      "configInstance": "config1",
                      "containers": [
                        {
                          "image": "hub.juniper.net/contrail/contrail-external-cassandra@sha256:c369fb2bd1ec04c8b9cdbb4f706a09940cda0bd9d3459b3c4fed87d18ebe2350",
                          "name": "cassandra"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                          "name": "nodemanager"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                          "name": "provisioner"
                        }
                      ]
                    }
                  }
                }
              ],
              "config": {
                "metadata": {
                  "labels": {
                    "tf_cluster": "cluster1"
                  },
                  "name": "config1"
                },
                "spec": {
                  "commonConfiguration": {
                    "nodeSelector": {
                      "node-role.kubernetes.io/master": ""
                    }
                  },
                  "serviceConfiguration": {
                    "cassandraInstance": "configdb1",
                    "containers": [
                      {
                        "image": "hub.juniper.net/contrail/contrail-external-redis@sha256:cdb54228c398955eabad9375bb72ac0ed44d02f6ed3221a98ed549e3fe9bfa9c",
                        "name": "redis"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-external-stunnel@sha256:17a043e23fad3b52b7d18b57a0c2f38c447ad113672eac526c0774fd30e37b43",
                        "name": "stunnel"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-config-api@sha256:a73c3d19443eea5a3b419b9010448dd6a5122d9ef53545c71b814be931e68d85",
                        "name": "api"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-config-devicemgr@sha256:51c0b2c39a073e726053dd4780fb6506da352dae21899e5433ff93f600a0b",
                        "name": "devicemanager"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-config-dnsmasq@sha256:12dbfc8243898c598023039b5d763e4bae24a23088cca1626ad734b053cffd9",
                        "name": "dnsmasq"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-config-schema@sha256:db8da06a5109c184dbab6c684f388f381ed90f7ab2a41020b5efe1ba4e1ba27f",
                        "name": "schematransformer"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-config-svcmonitor@sha256:06543f1335e136ac02e5cb413cb1b71b9e0259e9973626a89eb8f65d2aa7427d",
                        "name": "servicemonitor"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                        "name": "nodemanagerconfig"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                        "name": "provisionerconfig"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-api@sha256:4d8e2c09b0fac0b8774c68394d9fd8a509af64d03258038aaa88a2939703683a",
                        "name": "analyticsapi"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-collector@sha256:eca4a9b70426e6652a16d05ef13f2c4d4788c4c48b574a2960baf354b8aab90d",
                        "name": "collector"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-analytics-query-engine@sha256:39d944f7efcb630da63af5c4426c4ace0e12aa54263edd22d864b31cf8718a8a",
                        "name": "queryengine"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                        "name": "nodemanageranalytics"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                        "name": "provisioneranalytics"
                      }
                    ],
                    "logLevel": "SYS_DEBUG",
                    "rabbitmqInstance": "rabbitmq1",
                    "zookeeperInstance": "zookeeper1"
                  }
                }
              },
              "controls": [
                {
                  "metadata": {
                    "labels": {
                      "control_role": "master",
                      "tf_cluster": "cluster1"
                    },
                    "name": "control1"
                  },
                  "spec": {
                    "commonConfiguration": {
                      "nodeSelector": {
                        "node-role.kubernetes.io/master": ""
                      }
                    },
                    "serviceConfiguration": {
                      "cassandraInstance": "configdb1",
                      "configInstance": "config1",
                      "containers": [
                        {
                          "image": "hub.juniper.net/contrail/contrail-controller-control-control@sha256:eeffba47f0ef19e5e5949b28699df7189c63ea0df5201602d1978765ce477335",
                          "name": "control"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-controller-control-dns@sha256:212c5f7e94aa52e896d8554268c42eb95828e73aa7c56dfa0b790d909d4130de",
                          "name": "dns"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-controller-control-named@sha256:4c7d9a73014537daef527d66dcae139571ffd7fdc10da63bdebd2cde9feb7369",
                          "name": "named"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                          "name": "nodemanager"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                          "name": "provisioner"
                        }
                      ],
                      "logLevel": "SYS_DEBUG",
                      "rabbitmqInstance": "rabbitmq1"
                    }
                  }
                }
              ],
              "kubemanagers": [
                {
                  "metadata": {
                    "labels": {
                      "tf_cluster": "cluster1"
                    },
                    "name": "kubemanager1"
                  },
                  "spec": {
                    "commonConfiguration": {
                      "nodeSelector": {
                        "node-role.kubernetes.io/master": ""
                      }
                    },
                    "serviceConfiguration": {
                      "cassandraInstance": "configdb1",
                      "configInstance": "config1",
                      "containers": [
                        {
                          "image": "hub.juniper.net/contrail/contrail-kubernetes-kube-manager@sha256:f1e426edf8f34407a11122c87f8a8d7bccdb03299ff0dd3555b8f91312dccda9",
                          "name": "kubemanager"
                        }
                      ],
                      "hostNetworkService": true,
                      "ipFabricForwarding": false,
                      "ipFabricSnat": true,
                      "kubernetesTokenFile": "/var/run/secrets/kubernetes.io/serviceaccount/token",
                      "logLevel": "SYS_DEBUG",
                      "rabbitmqInstance": "rabbitmq1",
                      "zookeeperInstance": "zookeeper1"
                    }
                  }
                }
              ],
              "rabbitmq": {
                "metadata": {
                  "labels": {
                    "tf_cluster": "cluster1"
                  },
                  "name": "rabbitmq1"
                },
                "spec": {
                  "commonConfiguration": {
                    "nodeSelector": {
                      "node-role.kubernetes.io/master": ""
                    }
                  },
                  "serviceConfiguration": {
                    "containers": [
                      {
                        "image": "hub.juniper.net/contrail/contrail-external-rabbitmq@sha256:c005544a81cad56628dd3a4933e30a66894161a2f1f83461c1adb5ae6e1f1224",
                        "name": "rabbitmq"
                      }
                    ],
                    "logLevel": "SYS_DEBUG"
                  }
                }
              },
              "vrouters": [
                {
                  "metadata": {
                    "labels": {
                      "tf_cluster": "cluster1"
                    },
                    "name": "vrouter1"
                  },
                  "spec": {
                    "serviceConfiguration": {
                      "containers": [
                        {
                          "image": "hub.juniper.net/contrail/contrail-node-init@sha256:bd501aeb0b6caaea62d542761d7ee053f2bddf1ac9d83eb003593b46dd527d83",
                          "name": "nodeinit"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-vrouter-kernel-init@sha256:efb40eb7cec468eb05096b1b16591081ac08cb8f0d62113f23513a416dffec75",
                          "name": "vrouterkernelinit"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-vrouter-kernel-build-init@sha256:1826bfc31b5164b139f387dbab5266504088cc8bff371e54dc8f19f53bb6f365",
                          "name": "vrouterkernelbuildinit"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-provisioner@sha256:f7468fc60f3da4a311cd4dc5ee8938858b237c05ff576522de56eb514fc49a9f",
                          "name": "provisioner"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-nodemgr@sha256:f8bbde4b6cf28bcd8a5cfcb1f9d5afa999ee5ca60dba7585120aa2e75e102784",
                          "name": "nodemanager"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-vrouter-agent@sha256:ce1101aad50bba5d0a9b158c1555d0e549eb0a8fe9f9d4389f7b3f988952237e",
                          "name": "vrouteragent"
                        },
                        {
                          "image": "hub.juniper.net/contrail/contrail-kubernetes-cni-init@sha256:f6d131036424c5f5ca6b267f180960aed04a451000a6759703db1c25d3e507b7",
                          "name": "vroutercni"
                        }
                      ],
                      "controlInstance": "control1",
                      "logLevel": "SYS_DEBUG"
                    }
                  }
                }
              ],
              "webui": {
                "metadata": {
                  "labels": {
                    "tf_cluster": "cluster1"
                  },
                  "name": "webui1"
                },
                "spec": {
                  "commonConfiguration": {
                    "nodeSelector": {
                      "node-role.kubernetes.io/master": ""
                    }
                  },
                  "serviceConfiguration": {
                    "cassandraInstance": "configdb1",
                    "configInstance": "config1",
                    "containers": [
                      {
                        "image": "hub.juniper.net/contrail/contrail-external-redis@sha256:cdb54228c398955eabad9375bb72ac0ed44d02f6ed3221a98ed549e3fe9bfa9c",
                        "name": "redis"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-webui-job@sha256:e81368cc3cc4667a1231c595ac8096b4a6d4ffea16c3a2b28b19800d8289c90b",
                        "name": "webuijob"
                      },
                      {
                        "image": "hub.juniper.net/contrail/contrail-controller-webui-web@sha256:a38373e819a4a34faae6acee43f53b05b5e08df9af55f31daad238744ffa2913",
                        "name": "webuiweb"
                      }
                    ],
                    "controlInstance": "control1",
                    "logLevel": "SYS_DEBUG"
                  }
                }
              },
              "zookeepers": [
                {
                  "metadata": {
                    "labels": {
                      "tf_cluster": "cluster1"
                    },
                    "name": "zookeeper1"
                  },
                  "spec": {
                    "commonConfiguration": {
                      "nodeSelector": {
                        "node-role.kubernetes.io/master": ""
                      }
                    },
                    "serviceConfiguration": {
                      "containers": [
                        {
                          "image": "hub.juniper.net/contrail/contrail-external-zookeeper@sha256:cb33b419a4be1e7e9ac57d1b50fc7627b07b85104f125631744de0678f616fa6",
                          "name": "zookeeper"
                        }
                      ],
                      "logLevel": "SYS_DEBUG"
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    capabilities: Seamless Upgrades
    containerImage: 'hub.juniper.net/contrail/tf-operator@sha256:ffae0c3fb7021ba7861cb139e9f5b38010b4d904fb4305138ee1be7a7e0d37cf'
    certified: 'false'
    description: TF Operator enables TF SDN deployment
    repository: https://github.com/tungstenfabric/tf-operator
  name: tf-operator.v2011.1.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: AnalyticsAlarm is the Schema for the Analytics Alarm API.
      kind: AnalyticsAlarm
      name: analyticsalarm.tf.tungsten.io
      version: v1alpha1
    - description: AnalyticsSnmp is the Schema for the Analytics SNMP API.
      kind: AnalyticsSnmp
      name: analyticssnmp.tf.tungsten.io
      version: v1alpha1
    - description: Cassandra is the Schema for the cassandras API.
      kind: Cassandra
      name: cassandras.tf.tungsten.io
      version: v1alpha1
    - description: Config is the Schema for the configs API.
      kind: Config
      name: configs.tf.tungsten.io
      version: v1alpha1
    - description: Control is the Schema for the controls API.
      kind: Control
      name: controls.tf.tungsten.io
      version: v1alpha1
    - description: Kubemanager is the Schema for the kubemanagers API.
      kind: Kubemanager
      name: kubemanagers.tf.tungsten.io
      version: v1alpha1
    - description: Manager is the Schema for the managers API.
      kind: Manager
      name: managers.tf.tungsten.io
      version: v1alpha1
    - description: Rabbitmq is the Schema for the rabbitmqs API.
      kind: Rabbitmq
      name: rabbitmqs.tf.tungsten.io
      version: v1alpha1
    - description: Vrouter is the Schema for the vrouters API.
      kind: Vrouter
      name: vrouters.tf.tungsten.io
      version: v1alpha1
    - description: Webui is the Schema for the webuis API.
      kind: Webui
      name: webuis.tf.tungsten.io
      version: v1alpha1
    - description: Zookeeper is the Schema for the zookeepers API.
      kind: Zookeeper
      name: zookeepers.tf.tungsten.io
      version: v1alpha1
  displayName: Tf Operator
  icon:
  - base64data: ""
    mediatype: ""
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - '*'
          resources:
          - '*'
          verbs:
          - '*'
        serviceAccountName: tf-operator
      deployments:
      - name: tf-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: tf-operator
          strategy: {}
          template:
            metadata:
              labels:
                name: tf-operator
            spec:
              containers:
              - env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: OPERATOR_NAME
                  value: tf-operator
                image: hub.juniper.net/contrail/tf-operator@sha256:ffae0c3fb7021ba7861cb139e9f5b38010b4d904fb4305138ee1be7a7e0d37cf
                name: tf-operator
                resources: {}
              dnsPolicy: ClusterFirstWithHostNet
              hostNetwork: true
              nodeSelector:
                node-role.kubernetes.io/master: ""
              restartPolicy: Always
              serviceAccountName: tf-operator
              tolerations:
              - effect: NoExecute
                operator: Exists
              - effect: NoSchedule
                operator: Exists
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - endpoints
          - persistentvolumeclaims
          - events
          - configmaps
          - secrets
          verbs:
          - '*'
        - apiGroups:
          - apps
          resources:
          - deployments
          - daemonsets
          - replicasets
          - statefulsets
          verbs:
          - '*'
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - servicemonitors
          verbs:
          - get
          - create
        - apiGroups:
          - apps
          resourceNames:
          - tf-operator
          resources:
          - deployments/finalizers
          verbs:
          - update
        - apiGroups:
          - tf.tungsten.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - storage
          resources:
          - storageclasses
          verbs:
          - '*'
        serviceAccountName: tf-operator
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: false
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - "tf"
  - "tungsten"
  - "tungstenfabric"
  maintainers:
  - {}
  maturity: alpha
  provider: {}
  version: 0.0.0

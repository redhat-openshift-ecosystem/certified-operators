apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "charts.csi.hitachi.com/v1",
          "kind": "HNAS",
          "metadata": {
            "name": "hnas",
            "namespace": "kube-system"
          },
          "spec": {}
        }
      ]
    capabilities: Basic Install
    categories: Storage
    containerImage: registry.hitachivantara.com/fpgroup-docker-public/hnas-csi-operator@sha256:9d3f9f10fc7172ee9cebbd9ee318906756d7e96909f2e66e0534e98bb53e0a7b
    createdAt: "2025-07-30T15:12:23Z"
    description: An operator for managing Hitachi NAS CSI driver
    features.operators.openshift.io/cnf: "false"
    features.operators.openshift.io/cni: "false"
    features.operators.openshift.io/csi: "true"
    features.operators.openshift.io/disconnected: "true"
    features.operators.openshift.io/fips-compliant: "false"
    features.operators.openshift.io/proxy-aware: "false"
    features.operators.openshift.io/tls-profiles: "false"
    features.operators.openshift.io/token-auth-aws: "false"
    features.operators.openshift.io/token-auth-azure: "false"
    features.operators.openshift.io/token-auth-gcp: "false"
    operators.operatorframework.io/builder: operator-sdk-v1.38.0
    operators.operatorframework.io/project_layout: helm.sdk.operatorframework.io/v1
  name: hnas-csi-operator.v1.0.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - description: HNAS is the Schema for the hnas API
        displayName: HNAS
        kind: HNAS
        name: hnas.charts.csi.hitachi.com
        version: v1
  description: |-
    The Hitachi NAS CSI driver operator deploys the Hitachi NAS CSI driver on Kubernetes and OpenShift environments.  The driver can be used to create and manage persistent storage hosted on Hitachi NAS products, including those in the Hitachi VSP One File 3x range and the HNAS range of products.

    For the complete documentation, go to our [Product Documentation site](https://docs.hitachivantara.com/home) and refer to the Hitachi NAS CSI Driver User Guide - MK-92HNAS091.  The guide covers prerequisites for the NAS system and covers the driver functionality and all configuration options available for the driver.
  displayName: Hitachi NAS CSI Driver Operator
  icon:
    - base64data: PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkxNiA0MzAiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICMwYzBjMGM7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIyOTAuNjkgMTg3LjM1IDE0NC45OCAxODcuMzUgMTQ0Ljk4IDc4LjE5IDczIDc4LjE5IDczIDM1MC44NiAxNDQuOTggMzUwLjg2IDE0NC45OCAyMzAuNTcgMjkwLjY5IDIzMC41NyAyOTAuNjkgMzUwLjg2IDM2My4xMSAzNTAuODYgMzYzLjExIDc4LjE5IDI5MC42OSA3OC4xOSAyOTAuNjkgMTg3LjM1Ii8+CiAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSI0MjIuNjQiIHk9Ijc4LjE5IiB3aWR0aD0iNzIuODciIGhlaWdodD0iMjcyLjY2Ii8+CiAgPHJlY3QgY2xhc3M9ImNscy0xIiB4PSIxNzcwLjE0IiB5PSI3OC4xOSIgd2lkdGg9IjcyLjg2IiBoZWlnaHQ9IjI3Mi42NiIvPgogIDxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSI4MDUuMTcgNzguMTkgNTIyLjE2IDc4LjE5IDUyMi4xNiAxMjMuNjMgNjI3LjkgMTIzLjYzIDYyNy45IDM1MC44NiA2OTkuNDMgMzUwLjg2IDY5OS40MyAxMjMuNjMgODA1LjE3IDEyMy42MyA4MDUuMTcgNzguMTkiLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04NzIuMjYsNzguNjRsLTEyOS4yOCwyNzIuMjJoODAuODVsMjUuMzMtNjEuMDRoMTM2LjM4bDI0Ljg5LDYxLjA0aDgxLjMybC0xMjguNDEtMjcyLjIyaC05MS4wOFpNODY3LjM2LDI0Ni42bDUwLjIxLTEyMS42Myw0OS43NiwxMjEuNjNoLTk5Ljk3WiIvPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTEyNDEuOSwzMTUuNjZjLTI3Ljk5LDAtODUuMzEtNS43OC04Ni4xOC0xMDAuMjQtLjg5LTg5LjEsNTEuNTMtMTAxLjU3LDg2LjE4LTEwMS41NywzNC4yMS40Myw2OC40MiwxNi40OCw2OC44Niw1Ny4wMWg3My43NmMtLjkxLTQ5LjQ2LTQzLjU1LTk2LjY4LTE0Mi42My05Ny41Ny03My43NC0uNDQtMTYzLjA1LDI5Ljg1LTE2My41LDE0MC43OC0uNDQsMTEwLjA0LDkwLjY0LDE0NC4zNCwxNjMuNSwxNDIuNTYsNjcuMDgtMi4yMiwxNDEuNzItMjAuOTMsMTQ0Ljg1LTEwMy44bC03NC4yLjQ0Yy0yLjIyLDUxLjY5LTQzLjUzLDYxLjkzLTcwLjYzLDYyLjM3WiIvPgogIDxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxNjM5Ljk3IDE4Ny4zNSAxNDk0LjIzIDE4Ny4zNSAxNDk0LjIzIDc4LjE5IDE0MjIuMjkgNzguMTkgMTQyMi4yOSAzNTAuODYgMTQ5NC4yMyAzNTAuODYgMTQ5NC4yMyAyMzAuNTcgMTYzOS45NyAyMzAuNTcgMTYzOS45NyAzNTAuODYgMTcxMS45MyAzNTAuODYgMTcxMS45MyA3OC4xOSAxNjM5Ljk3IDc4LjE5IDE2MzkuOTcgMTg3LjM1Ii8+Cjwvc3ZnPg==
      mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - '*'
            - apiGroups:
                - charts.csi.hitachi.com
              resources:
                - hnas
                - hnas/status
                - hnas/finalizers
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - ""
              resources:
                - pods
                - serviceaccounts
                - services
                - services/finalizers
                - endpoints
                - configmaps
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - apps
              resources:
                - deployments
                - daemonsets
                - replicasets
                - statefulsets
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - clusterrolebindings
                - clusterroles
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - security.openshift.io
              resourceNames:
                - privileged
              resources:
                - securitycontextconstraints
              verbs:
                - use
            - apiGroups:
                - storage.k8s.io
              resources:
                - csidrivers
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - watch
            - apiGroups:
                - apiextensions.k8s.io
              resources:
                - customresourcedefinitions
              verbs:
                - '*'
            - apiGroups:
                - snapshot.storage.k8s.io
              resources:
                - volumesnapshots
                - volumesnapshotclasses
                - volumesnapshotcontents
                - volumesnapshotcontents/status
                - volumesnapshots/status
              verbs:
                - '*'
            - apiGroups:
                - ""
              resources:
                - persistentvolumes
              verbs:
                - create
                - delete
                - get
                - list
                - watch
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims/status
              verbs:
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - nodes
              verbs:
                - get
                - list
                - watch
                - update
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments
              verbs:
                - get
                - list
                - watch
                - update
                - patch
            - apiGroups:
                - storage.k8s.io
              resources:
                - volumeattachments/status
              verbs:
                - patch
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
                - csinodes
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - list
                - watch
                - create
                - update
                - patch
            - apiGroups:
                - ""
              resources:
                - pods
                - namespaces
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
          serviceAccountName: hnas-csi-operator-controller-manager
      deployments:
        - label:
            app.kubernetes.io/name: hnas-csi-operator
            control-plane: controller-manager
          name: hnas-csi-operator-controller-manager
          spec:
            replicas: 1
            selector:
              matchLabels:
                control-plane: controller-manager
            strategy: {}
            template:
              metadata:
                annotations:
                  kubectl.kubernetes.io/default-container: manager
                labels:
                  control-plane: controller-manager
              spec:
                containers:
                  - args:
                      - --metrics-require-rbac
                      - --metrics-secure
                      - --metrics-bind-address=:8443
                      - --leader-elect
                      - --leader-election-id=hnas-csi-operator
                      - --health-probe-bind-address=:8081
                    image: registry.hitachivantara.com/fpgroup-docker-public/hnas-csi-operator@sha256:9d3f9f10fc7172ee9cebbd9ee318906756d7e96909f2e66e0534e98bb53e0a7b
                    imagePullPolicy: Always
                    livenessProbe:
                      httpGet:
                        path: /healthz
                        port: 8081
                      initialDelaySeconds: 15
                      periodSeconds: 20
                    name: manager
                    readinessProbe:
                      httpGet:
                        path: /readyz
                        port: 8081
                      initialDelaySeconds: 5
                      periodSeconds: 10
                    resources:
                      limits:
                        cpu: 500m
                        memory: 128Mi
                      requests:
                        cpu: 10m
                        memory: 64Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                securityContext:
                  runAsNonRoot: true
                serviceAccountName: hnas-csi-operator-controller-manager
                terminationGracePeriodSeconds: 10
      permissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
          serviceAccountName: hnas-csi-operator-controller-manager
    strategy: deployment
  installModes:
    - supported: true
      type: OwnNamespace
    - supported: true
      type: SingleNamespace
    - supported: false
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
  keywords:
    - Hitachi
    - Storage
    - Container Storage Interface
    - CSI
    - NAS
  links:
    - name: Product Documentation
      url: https://docs.hitachivantara.com/home
  maturity: stable
  minKubeVersion: 1.28.0
  provider:
    name: Hitachi
  relatedImages:
    - image: registry.hitachivantara.com/fpgroup-docker-public/hnas-csi-operator@sha256:9d3f9f10fc7172ee9cebbd9ee318906756d7e96909f2e66e0534e98bb53e0a7b
      name: manager
    - image: registry.hitachivantara.com/fpgroup-docker-public/hnas-csi-driver@sha256:6b6f6816c9f4e608e93e7fbc0347255415426a0ff0c9a53b7750e5ba54d91262
      name: hnas-driver
    - image: registry.k8s.io/sig-storage/csi-provisioner@sha256:d5e46da8aff7d73d6f00c761dae94472bcda6e78f4f17b3802dc89d44de0111b
      name: csi-provisioner
    - image: registry.k8s.io/sig-storage/csi-attacher@sha256:a399393ff5bd156277c56bae0c08389b1a1b95b7fd6ea44a316ce55e0dd559d7
      name: external-attacher
    - image: registry.k8s.io/sig-storage/csi-resizer@sha256:ab774734705a906561e15b67f6a96538f3ad520335d636f793aaafe87a3b5200
      name: csi-resizer
    - image: registry.k8s.io/sig-storage/csi-snapshotter@sha256:dd788d79cf4c1b8edee6d9b80b8a1ebfc51a38a365c5be656986b129be9ac784
      name: csi-snapshotter
    - image: registry.k8s.io/sig-storage/livenessprobe@sha256:2c5f9dc4ea5ac5509d93c664ae7982d4ecdec40ca7b0638c24e5b16243b8360f
      name: liveness-probe
    - image: registry.k8s.io/sig-storage/csi-node-driver-registrar@sha256:d7138bcc3aa5f267403d45ad4292c95397e421ea17a0035888850f424c7de25d
      name: driver-registrar
  version: 1.0.0

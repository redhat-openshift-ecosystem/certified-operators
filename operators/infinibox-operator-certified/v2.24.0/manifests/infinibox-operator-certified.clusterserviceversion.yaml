apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "csidriver.infinidat.com/v1alpha1",
          "kind": "InfiniboxCsiDriver",
          "metadata": {
            "labels": {
              "app.kubernetes.io/created-by": "infinibox-operator-certified",
              "app.kubernetes.io/instance": "infiniboxcsidriver-sample",
              "app.kubernetes.io/managed-by": "kustomize",
              "app.kubernetes.io/name": "infiniboxcsidriver",
              "app.kubernetes.io/part-of": "infinibox-operator-certified"
            },
            "name": "infiniboxcsidriver-sample"
          },
          "spec": {
            "Ibox_Creds": [
              {
                "SecretName": "infinibox-creds",
                "hostname": "ibox0000",
                "inbound_secret": "0.0000000000000",
                "inbound_user": "iqn.2020-06.com.csi-driver-iscsi.infinidat:commonout",
                "outbound_secret": "0.0000000000001",
                "outbound_user": "iqn.2020-06.com.csi-driver-iscsi.infinidat:commonin",
                "password": "my-pool-admin-passwd",
                "username": "my-pool-admin"
              }
            ],
            "Infinibox_Protocol_Secrets": [
              {
                "SecretName": "infinibox-protocol-secret",
                "iscsi": {
                  "network_space": "default_iscsi_space",
                  "useCHAP": "none"
                },
                "nfs": {
                  "network_space": "default_nas_space",
                  "nfs_export_permissions": ""
                },
                "nvme": {
                  "network_space": "default_nvme_space"
                },
                "preferred_auto_order": "fc,nvme,iscsi",
                "storage_protocol": "fc"
              }
            ],
            "autoUpdate": false,
            "cleanupNFSPerms": false,
            "controllerserverresources": {
              "limits": {
                "cpu": "0.5",
                "memory": "450Mi"
              },
              "requests": {
                "cpu": "0.1",
                "memory": "150Mi"
              }
            },
            "controllerservertolerations": [
              {
                "effect": "",
                "key": "",
                "operator": "Exists",
                "tolerationSeconds": 0,
                "value": ""
              }
            ],
            "createEvents": true,
            "csiDriverName": "infinibox-csi-driver",
            "csiDriverVersion": "v2.24.0",
            "e2etesting": false,
            "iboxHostNamingConvention": "",
            "images": {
              "attachersidecar": "registry.k8s.io/sig-storage/csi-attacher@sha256:be59d0556508d3dd419cc34c53062f170a28902ef36e832b947c7796458a083d",
              "attachersidecar_pull_policy": "IfNotPresent",
              "csidriver": "registry.connect.redhat.com/infinidat/infinibox-csidriver-certified@sha256:e8b05d9c9ac5b6f59705de64d5d7764d297f33d8437617ae07985fd298870dec",
              "csidriver_pull_policy": "Always",
              "livenesssidecar": "registry.k8s.io/sig-storage/livenessprobe@sha256:2c5f9dc4ea5ac5509d93c664ae7982d4ecdec40ca7b0638c24e5b16243b8360f",
              "livenesssidecar_pull_policy": "IfNotPresent",
              "provisionersidecar": "registry.k8s.io/sig-storage/csi-provisioner@sha256:0c537015fe9cf9d53d79d0181e17a78ee784303cd46bf957016605488f212327",
              "provisionersidecar_pull_policy": "IfNotPresent",
              "registrarsidecar": "registry.k8s.io/sig-storage/csi-node-driver-registrar@sha256:11f199f6bec47403b03cb49c79a41f445884b213b382582a60710b8c6fdc316a",
              "registrarsidecar_pull_policy": "IfNotPresent",
              "resizersidecar": "registry.k8s.io/sig-storage/csi-resizer@sha256:4a95d94e57ad82f6977cd8d4fdcfcfc0b83f02d990e4e7715b688c20970a906d",
              "resizersidecar_pull_policy": "IfNotPresent",
              "snapshottersidecar": "registry.k8s.io/sig-storage/csi-snapshotter@sha256:c7e0a3718832b6197ce8b29fefb3fed3d84f4fbcdf08f4606140dbec2566501d",
              "snapshottersidecar_pull_policy": "IfNotPresent"
            },
            "instanceCount": 1,
            "logLevel": "debug",
            "nodeSelector": {
              "kubernetes.io/os": "linux"
            },
            "nodeserverresources": {
              "limits": {
                "cpu": "0.5",
                "memory": "450Mi"
              },
              "requests": {
                "cpu": "0.1",
                "memory": "150Mi"
              }
            },
            "nodeservertolerations": [
              {
                "effect": "",
                "key": "",
                "operator": "Exists",
                "tolerationSeconds": 0,
                "value": ""
              }
            ],
            "protocolSecret": "",
            "removeDomainName": false,
            "replicaCount": 1,
            "skipCredentialsCreation": false,
            "volumeNamePrefix": "ibox"
          }
        }
      ]
    capabilities: Seamless Upgrades
    createdAt: "2025-11-25T20:05:02Z"
    operators.operatorframework.io/builder: operator-sdk-v1.40.0
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v4
    operatorframework.io/suggested-namespace: infinidat-csi
    certified: "true"
    categories: Storage
    containerImage: registry.connect.redhat.com/infinidat/infinibox-csidriver-certified@sha256:e8b05d9c9ac5b6f59705de64d5d7764d297f33d8437617ae07985fd298870dec
    olm.skipRange: <2.24.0
    repository: https://github.com/Infinidat/infinibox-csi-driver
    support: Infinidat
    features.operators.openshift.io/disconnected: "true"
    features.operators.openshift.io/fips-compliant: "false"
    features.operators.openshift.io/proxy-aware: "false"
    features.operators.openshift.io/tls-profiles: "false"
    features.operators.openshift.io/token-auth-aws: "false"
    features.operators.openshift.io/token-auth-azure: "false"
    features.operators.openshift.io/token-auth-gcp: "false"
    features.operators.openshift.io/csi: "true"
    features.operators.openshift.io/cni: "false"
    features.operators.openshift.io/cnf: "false"
  name: infinibox-operator-certified.v2.24.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - kind: Iboxreplica
        name: iboxreplicas.csidriver.infinidat.com
        version: v1
      - kind: InfiniboxCsiDriver
        name: infiniboxcsidrivers.csidriver.infinidat.com
        version: v1alpha1
  description: "Infinidat InfiniBox Container Storage Interface (CSI) Driver is a\n    CNCF-compliant Kubernetes integration for InfiniBox storage systems, offering\n    advanced enterprise functionality for petabyte-scale Kubernetes deployments including\n    Red Hat OpenShift.\n \n## Features and Benefits\n  \n* **Multi-protocol flexibility** - manage\n    Kubernetes Persistent Volumes attached via block and file protocols,\n    including Fibre Channel, iSCSI, and NFS, with all Kubernetes PV access modes\n    \n* **Multi-petabyte scalability** - support hundreds of thousands of PVs per InfiniBox\n    system and control multiple InfiniBox arrays within a single Kubernetes cluster\n    \\ \n* **Advanced enterprise features** - manage native InfiniBox snapshots and\n    clones, including restoring from snapshots, and import PVs created outside of\n    InfiniBox CSI Driver\n  \n## Required Parameters\n  \n* `hostname` - IP address\n    or hostname of the InfiniBox management interface\n* `username` / `password` -\n    InfiniBox credentials\n* `SecretName` - secret name, to be used in the StorageClass\n    to define a specific InfiniBox for persistent volumes\n\n## Optional Parameters\n*\n    `inbound_user` / `inbound_secret` / `outbound_user` / `outbound_secret` - credentials \n    for iSCSI CHAP authentication\n\n    \n## Installation Instructions\n \n1. Create *infinidat-csi* namespace to install operator into.\n    \n2. Delete the following *clusterrolebindings*, if they exist, before installing operator\n     * infinidat-csi-operator-infinidat-csi-attacher\n     * infinidat-csi-operator-infinidat-csi-controller                     \n     * infinidat-csi-operator-infinidat-csi-driver                     \n     * infinidat-csi-operator-infinidat-csi-node                               \n     * infinidat-csi-operator-infinidat-csi-provisioner                        \n     * infinidat-csi-operator-infinidat-csi-resizer           \n     * infinidat-csi-operator-infinidat-csi-snapshotter \n    \n3. Install Infinidat Infinibox CSI Driver - Operator (this) into the *infinidat-csi* namespace.\n    \n4. Apply the following Security Context Constraints to the created service accounts in the *infinidat-csi* \n    namespace\n\n     * oc adm policy add-scc-to-user privileged -z infinidat-csi-operator-controller-manager\n\n     * oc adm policy add-scc-to-user privileged -z infinidat-csi-operator-infinidat-csi-driver\n\n     * oc adm policy add-scc-to-user privileged -z infinidat-csi-operator-infinidat-csi-node\n\n     * oc adm policy add-scc-to-user privileged -z infinidat-csi-operator-infinidat-csi-controller\n\n     * oc adm policy add-scc-to-user anyuid -z infinidat-csi-operator-controller-manager\n\n     * oc adm policy add-scc-to-user anyuid -z infinidat-csi-operator-infinidat-csi-driver\n\n     * oc adm policy add-scc-to-user anyuid -z infinidat-csi-operator-infinidat-csi-node\n\n     * oc adm policy add-scc-to-user anyuid -z infinidat-csi-operator-infinidat-csi-controller\n\n     * oc adm policy add-scc-to-user hostnetwork -z infinidat-csi-operator-controller-manager\n\n     * oc adm policy add-scc-to-user hostnetwork -z infinidat-csi-operator-infinidat-csi-driver\n\n     * oc adm policy add-scc-to-user hostnetwork -z infinidat-csi-operator-infinidat-csi-node\n\n     * oc adm policy add-scc-to-user hostnetwork -z infinidat-csi-operator-infinidat-csi-controller\n\n     \n5. Recreate or edit any existing storage classes, pointing to the new namespace\n\n     \n6. If you choose a different namespace other than *infinidat-csi* you will need to edit the clusterrolebindings listed above to specify your custom namespace\n\n     \n7. Install an instance of Infinidat Driver into the *infinidat-csi* namespace"
  displayName: InfiniBox CSI Driver - Operator
  icon:
    - base64data: "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxODQxIDM1MC44IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxODQxIDM1MC44OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6Izg3MUJGRjt9Cgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxyZWN0IGNsYXNzPSJzdDAiIHdpZHRoPSIxODQxIiBoZWlnaHQ9IjM1MC44Ii8+CjxnPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTE3MjQuOSwxMjEuMVY5OS4zSDE1NTh2MjEuN2g3MC41djEzOC4zaDI1LjdWMTIxLjFIMTcyNC45TDE3MjQuOSwxMjEuMXogTTE0NDQuNSwxMTcuNmw0MS41LDgxLjloLTgzCgkJTDE0NDQuNSwxMTcuNkwxNDQ0LjUsMTE3LjZ6IE0xMzcyLjUsMjU5LjRsMTkuNy0zOS40aDEwNC4ybDE5LjcsMzkuNGgyOC40bC04NS43LTE2MGgtMjcuNWwtODQuMiwxNjBIMTM3Mi41TDEzNzIuNSwyNTkuNHoKCQkgTTEyNjguNiwxMzMuMmMxMS40LDguOSwxNywyMy45LDE3LDQ1LjFjMCwyMi01LjcsMzcuNC0xNyw0Ni4zYy0xMC40LDguMy0yNy41LDEyLjQtNTEuNCwxMi40aC01NS41VjEyMC43aDU1LjUKCQlDMTI0MC45LDEyMC43LDEyNTgsMTI0LjksMTI2OC42LDEzMy4yIE0xMTM2LDk5LjN2MTYwaDg0LjhjMjcuMywwLDQ3LTQuMSw1OS4xLTEyLjRjMjEuMy0xNC41LDMyLTM3LjMsMzItNjguNQoJCWMwLTE0LjMtMi44LTI3LjMtOC41LTM5LjFjLTUuNy0xMS44LTEzLjUtMjEtMjMuNS0yNy42Yy0xMi40LTguMy0zMi0xMi40LTU5LjEtMTIuNEgxMTM2TDExMzYsOTkuM3ogTTEwNTUuOSw5OS4zaC0yNS43djE2MGgyNS43CgkJVjk5LjNMMTA1NS45LDk5LjN6IE04MDMuOCwyNTkuNHYtOTQuM2MwLTEzLjgtMC42LTI1LjUtMS44LTM1YzIuMiwzLjksNC45LDcuNSw4LjEsMTAuOWMwLjYsMC42LDMuMSwzLDcuNSw3LjFsMTE4LjYsMTExLjNoMTQuMwoJCXYtMTYwaC0yMy45djg3LjhjMCwxNi4zLDAuOCwyOS41LDIuNCwzOS40Yy02LjItOC4yLTEyLTE1LTE3LjYtMjAuMWwtMTE1LjMtMTA3SDc4MHYxNjBIODAzLjhMODAzLjgsMjU5LjR6IE02OTkuOSw5OS4zaC0yNS43djE2MAoJCWgyNS43Vjk5LjNMNjk5LjksOTkuM3ogTTUwOS43LDI1OS40di02NC41aDY5di0yMS40aC02OXYtNTIuNGgxMjFWOTkuM0g0ODR2MTYwSDUwOS43TDUwOS43LDI1OS40eiBNMjU3LjYsMjU5LjR2LTk0LjMKCQljMC0xMy44LTAuNi0yNS41LTEuOC0zNWMyLjIsMy45LDQuOSw3LjUsOC4xLDEwLjljMC42LDAuNiwzLjEsMyw3LjUsNy4xbDExOC42LDExMS4zaDE0LjN2LTE2MGgtMjMuOXY4Ny44CgkJYzAsMTYuMywwLjgsMjkuNSwyLjQsMzkuNGMtNi4yLTguMi0xMi0xNS0xNy42LTIwLjFsLTExNS4zLTEwN2gtMTYuMXYxNjBIMjU3LjZMMjU3LjYsMjU5LjR6IE0xNTMuNyw5OS4zSDEyOHYxNjBoMjUuN1Y5OS4zCgkJTDE1My43LDk5LjN6Ii8+CjwvZz4KPC9zdmc+Cg=="
      mediatype: "image/svg+xml"
  install:
    spec:
      clusterPermissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - apps
              resources:
                - daemonsets
                - statefulsets
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - csidriver.infinidat.com
              resources:
                - infiniboxcsidrivers
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - csidriver.infinidat.com
              resources:
                - infiniboxcsidrivers/finalizers
              verbs:
                - update
            - apiGroups:
                - csidriver.infinidat.com
              resources:
                - infiniboxcsidrivers/status
              verbs:
                - get
                - patch
                - update
            - apiGroups:
                - security.openshift.io
              resourceNames:
                - privileged
              resources:
                - securitycontextconstraints
              verbs:
                - use
            - apiGroups:
                - storage.k8s.io
              resources:
                - csidrivers
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
          serviceAccountName: infinidat-csi-operator-controller-manager
      deployments:
        - label:
            app.kubernetes.io/component: manager
            app.kubernetes.io/created-by: infinibox-operator-certified
            app.kubernetes.io/instance: controller-manager
            app.kubernetes.io/managed-by: kustomize
            app.kubernetes.io/name: deployment
            app.kubernetes.io/part-of: infinibox-operator-certified
            control-plane: controller-manager
          name: infinidat-csi-operator-controller-manager
          spec:
            replicas: 1
            selector:
              matchLabels:
                control-plane: controller-manager
            strategy: {}
            template:
              metadata:
                annotations:
                  kubectl.kubernetes.io/default-container: manager
                labels:
                  control-plane: controller-manager
              spec:
                containers:
                  - args:
                      - --leader-elect
                      - --health-probe-bind-address=:8081
                    command:
                      - /manager
                    image: registry.connect.redhat.com/infinidat/infinibox-operator-certified@sha256:a6a63241d55cdb63e3072fd7e663f08eca9a46e64d73ff7159eafd48f92c2db0
                    imagePullPolicy: Always
                    livenessProbe:
                      httpGet:
                        path: /healthz
                        port: 8081
                      initialDelaySeconds: 15
                      periodSeconds: 20
                    name: manager
                    readinessProbe:
                      httpGet:
                        path: /readyz
                        port: 8081
                      initialDelaySeconds: 5
                      periodSeconds: 10
                    resources:
                      limits:
                        cpu: 500m
                        memory: 128Mi
                      requests:
                        cpu: 10m
                        memory: 64Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                    env:
                      - name: CSI_OPERATOR_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                securityContext:
                  runAsNonRoot: true
                serviceAccountName: infinidat-csi-operator-controller-manager
                terminationGracePeriodSeconds: 10
      permissions:
        - rules:
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
              verbs:
                - get
                - list
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
          serviceAccountName: infinidat-csi-operator-controller-manager
    strategy: deployment
  installModes:
    - supported: true
      type: OwnNamespace
    - supported: false
      type: SingleNamespace
    - supported: false
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
  keywords:
    - csi
    - nas
    - san
    - storage
    - infinidat
    - infinibox
  links:
    - name: Infinidat
      url: https://infinidat.com
  maintainers:
    - email: info@infinidat.com
      name: Infinidat
  maturity: stable
  provider:
    name: Infinidat
    url: https://infinidat.com
  relatedImages:
    - image: registry.k8s.io/sig-storage/csi-node-driver-registrar@sha256:11f199f6bec47403b03cb49c79a41f445884b213b382582a60710b8c6fdc316a
      name: csi-node-driver-registrar-11f199f6bec47403b03cb49c79a41f445884b213b382582a60710b8c6fdc316a-annotation
    - image: registry.k8s.io/sig-storage/csi-provisioner@sha256:0c537015fe9cf9d53d79d0181e17a78ee784303cd46bf957016605488f212327
      name: csi-provisioner-0c537015fe9cf9d53d79d0181e17a78ee784303cd46bf957016605488f212327-annotation
    - image: registry.k8s.io/sig-storage/livenessprobe@sha256:2c5f9dc4ea5ac5509d93c664ae7982d4ecdec40ca7b0638c24e5b16243b8360f
      name: livenessprobe-2c5f9dc4ea5ac5509d93c664ae7982d4ecdec40ca7b0638c24e5b16243b8360f-annotation
    - image: registry.k8s.io/sig-storage/csi-attacher@sha256:be59d0556508d3dd419cc34c53062f170a28902ef36e832b947c7796458a083d
      name: csi-attacher-be59d0556508d3dd419cc34c53062f170a28902ef36e832b947c7796458a083d-annotation
    - image: registry.connect.redhat.com/infinidat/infinibox-operator-certified@sha256:a6a63241d55cdb63e3072fd7e663f08eca9a46e64d73ff7159eafd48f92c2db0
      name: manager
    - image: registry.k8s.io/sig-storage/csi-snapshotter@sha256:c7e0a3718832b6197ce8b29fefb3fed3d84f4fbcdf08f4606140dbec2566501d
      name: csi-snapshotter-c7e0a3718832b6197ce8b29fefb3fed3d84f4fbcdf08f4606140dbec2566501d-annotation
    - image: registry.k8s.io/sig-storage/csi-resizer@sha256:4a95d94e57ad82f6977cd8d4fdcfcfc0b83f02d990e4e7715b688c20970a906d
      name: csi-resizer-4a95d94e57ad82f6977cd8d4fdcfcfc0b83f02d990e4e7715b688c20970a906d-annotation
    - image: registry.connect.redhat.com/infinidat/infinibox-csidriver-certified@sha256:e8b05d9c9ac5b6f59705de64d5d7764d297f33d8437617ae07985fd298870dec
      name: csidriver
  version: 2.24.0
  minKubeVersion: 1.25.0
  skips:
    - infinibox-operator-certified.v2.23.0

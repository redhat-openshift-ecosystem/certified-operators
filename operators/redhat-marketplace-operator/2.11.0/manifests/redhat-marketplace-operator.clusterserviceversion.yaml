apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: '[]'
    capabilities: Seamless Upgrades
    categories: Developer Tools
    certified: "true"
    containerImage: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b
    createdAt: "2023-06-23T07:06:51Z"
    description: The Red Hat Marketplace Deployment Operator by IBM provides cluster management, metering and operator installation for Red Hat Marketplace customers.
    olm.skipRange: '>=1.0.0 <2.11.0'
    operatorframework.io/suggested-namespace: redhat-marketplace
    operators.operatorframework.io/builder: operator-sdk-v1.13.0+git
    operators.operatorframework.io/internal-objects: '["razeedeployments.marketplace.redhat.com","remoteresources.deploy.razee.io"]'
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v3
    repository: https://github.com/redhat-marketplace/redhat-marketplace-operator
    support: IBM Corporation
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
    operatorframework.io/os.linux: supported
  name: redhat-marketplace-operator.v2.11.0
  namespace: redhat-marketplace
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - kind: RemoteResource
        name: remoteresources.deploy.razee.io
        version: v1alpha2
    required:
      - description: MarketplaceConfig is configuration manager for our Red Hat Marketplace controllers By installing this product you accept the license terms https://ibm.biz/BdfaAY.
        displayName: Marketplace Config
        kind: MarketplaceConfig
        name: marketplaceconfigs.marketplace.redhat.com
        version: v1alpha1
      - description: RazeeDeployment is the resources that deploys Razee for the Red Hat Marketplace. This is an internal resource not meant to be modified directly.
        displayName: Razee Deployment
        kind: RazeeDeployment
        name: razeedeployments.marketplace.redhat.com
        version: v1alpha1
  description: "The Red Hat Marketplace Deployment Operator by IBM provides cluster and operator management for Red Hat Marketplace customers.\n### **Important Note**\nA set of instructions for onboarding is provided here. For more detailed onboarding instructions or information about what is installed please visit [marketplace.redhat.com](https://marketplace.redhat.com).\n\n### **Upgrade Notice**\n\nThe Red Hat Marketplace Operator metering and deployment functionality have been separated into two operators.\n  - The deployment functionality remains as part of this Red Hat Marketplace Deployment Operator\n    - The Red Hat Marketplace Deployment Operator prerequisites the IBM Metrics Operator\n    - Admin level functionality and permissions are required for deployment functionality\n    - ClusterServiceVersion/redhat-marketplace-operator\n  - The metering functionality is included in the IBM Metrics Operator\n    - Admin level functionality and permissions are removed from the IBM Metrics Operator\n    - ClusterServiceVersion/ibm-metrics-operator\n\nFull registration and visibility of usage metrics on [https://marketplace.redhat.com](https://marketplace.redhat.com) requires both IBM Metrics Operator and Red Hat Marketplace Deployment Operator.\n\n### Prerequisites\n\n1. The Red Hat Markeplace Deployment Operator prerequisites the IBM Metrics Operator. Installing the Red Hat Markeplace Deployment Operator with Automatic approval on the Subscription will also install the IBM Metrics Operator automatically. If performing an install with Manual approval, install the IBM Metrics Operator first.\n\n#### The IBM Metrics Operator prequisites the following\n\n1. Installations are required to [enable monitoring for user-defined projects](https://docs.openshift.com/container-platform/latest/monitoring/enabling-monitoring-for-user-defined-projects.html) as the Prometheus provider.\n2. Edit the cluster-monitoring-config ConfigMap object:\n\n   ```sh\n   $ oc -n openshift-monitoring edit configmap cluster-monitoring-config\n    ```\n\n3. Add enableUserWorkload: true under data/config.yaml:\n  \n    ```sh\n    apiVersion: v1\n    kind: ConfigMap\n    metadata:\n      name: cluster-monitoring-config\n        namespace: openshift-monitoring\n    data:\n      config.yaml: |\n        enableUserWorkload: true\n    ```\n\n4. Configure the user-workload-monitoring-config ConfigMap object:\n\n    ```sh\n    $ oc -n openshift-user-workload-monitoring edit configmap user-workload-monitoring-config\n    ```\n\n5. Configure a minimum retention time of 168h and minimum storage capacity of 40Gi\n  \n    ```sh\n    apiVersion: v1\n    kind: ConfigMap\n    metadata:\n      name: user-workload-monitoring-config\n      namespace: openshift-user-workload-monitoring\n\n    data:\n      config.yaml: |\n        prometheus:\n          retention: 168h\n          volumeClaimTemplate:\n            spec:\n              resources:\n                requests:\n                  storage: 40Gi\n    ```\n\n### Installation\n1. Create or get your pull secret from [Red Hat Marketplace](https://marketplace.redhat.com/en-us/documentation/clusters#get-pull-secret).\n2. Install the IBM Metrics Operator and Red Hat Marketplace Deployment Operator\n3. Create a Kubernetes secret in the installed namespace with the name `redhat-marketplace-pull-secret` and key `PULL_SECRET` with the value of the Red hat Marketplace Pull Secret.\n    ```sh\n    # Replace ${PULL_SECRET} with your secret from Red Hat Marketplace\n    oc create secret generic redhat-marketplace-pull-secret -n  redhat-marketplace --from-literal=PULL_SECRET=${PULL_SECRET}\n    ```\n4. Use of the Red Hat Marketplace platform is governed by the:\n\n    [IBM Cloud Services Agreement](https://www.ibm.com/support/customer/csol/terms/?id=Z126-6304_WS&_ga=2.116312197.2046730452.1684328846-812467790.1684328846) (or other base agreement between you and IBM such as a [Passport Advantage Agreement](https://www.ibm.com/software/passportadvantage/pa_agreements.html?_ga=2.116312197.2046730452.1684328846-812467790.1684328846)) and the [Service Description for the Red Hat Marketplace](https://www.ibm.com/support/customer/csol/terms/?id=i126-8719&_ga=2.83289621.2046730452.1684328846-812467790.1684328846).\n\n5. Update MarketplaceConfig to accept the license.\n    ```\n    oc patch marketplaceconfig marketplaceconfig -n redhat-marketplace --type='merge' -p '{\"spec\": {\"license\": {\"accept\": true}}}'\n    ```\n6. Install the Red Hat Marketplace pull secret as a global pull secret on the cluster.\n\n    These steps require `oc`, `jq`, and `base64` to be available on your machine.\n\n    ```sh\n    # Create the docker pull secret file using your PULL_SECRET from Red Hat Marketplace.\n    # Store it in a file called entitledregistryconfigjson.\n    oc create secret docker-registry entitled-registry --docker-server=registry.marketplace.redhat.com --docker-username \"cp\" --docker-password \"${PULL_SECRET}\" --dry-run=client --output=\"jsonpath={.data.\\.dockerconfigjson}\" | base64 --decode > entitledregistryconfigjson\n    # Get the current global secrets on the cluster and store it as a file named dockerconfigjson\n    oc get secret pull-secret -n openshift-config --output=\"jsonpath={.data.\\.dockerconfigjson}\" | base64 --decode > dockerconfigjson\n    # Merge the two dockerconfigs together into a file called dockerconfigjson-merged.\n    jq -s '.[0] * .[1]' dockerconfigjson entitledregistryconfigjson > dockerconfigjson-merged\n    # Set the cluster's dockerconfig file to the new merged version.\n    oc set data secret/pull-secret -n openshift-config --from-file=.dockerconfigjson=dockerconfigjson-merged\n    ```\n\n### Why is a global pull secret required?\nIn order to successfully install the Red Hat Marketplace products, you will need to make the pull secret available across the cluster. This can be achieved by applying the Red Hat Marketplace Pull Secret as a [global pull secret](https://docs.openshift.com/container-platform/latest/openshift_images/managing_images/using-image-pull-secrets.html#images-update-global-pull-secret_using-image-pull-secrets). For alternative approachs, please see the official OpenShift [documentation](https://docs.openshift.com/container-platform/latest/openshift_images/managing_images/using-image-pull-secrets.html).\n\n\n### Cluster permission requirements\n\n|API group             |Resources                 |Verbs                             |\n|----------------------|--------------------------|----------------------------------|\n|apiextensions.k8s.io  |customresourcedefinitions |get;list;watch                    |\n|apps                  |deployments               |get;list;watch                    |\n|apps                  |replicasets               |get;list;watch                    |\n|authentication.k8s.io |tokenreviews              |create                            |\n|authorization.k8s.io  |subjectaccessreviews      |create                            |\n|config.openshift.io   |clusterversions           |get;list;watch                    |\n|config.openshift.io   |consoles                  |get;list;watch                    |\n|config.openshift.io   |infrastructures           |get;list;watch                    |\n|marketplace.redhat.com|marketplaceconfigs        |get;list;watch                    |\n|marketplace.redhat.com|remoteresources3s        |get;list;watch                    |\n|deploy.razee.io|remoteresources         |get;list;watch                    |\n|operators.coreos.com  |catalogsources            |create;get;list;watch;delete      |\n|operators.coreos.com  |clusterserviceversions    |get;list;watch;update;patch;delete|\n|operators.coreos.com  |operatorgroups            |get;list;watch;delete;create      |\n|operators.coreos.com  |subscriptions             |*                                 |\n|                      |configmaps                |get;list;watch                    |\n|                      |namespaces                |get;list;watch                    |\n|                      |nodes                     |get;list;watch                    |\n|                      |pods                      |get;list;watch                    |\n\n\n### Documentation\nYou can find our documentation [here.](https://marketplace.redhat.com/en-us/documentation/)\n\n### Getting help\nIf you encounter any issues while using Red Hat Marketplace operator, you can create an issue on our [Github\nrepo](https://github.com/redhat-marketplace/redhat-marketplace-operator) for bugs, enhancements, or other requests. You can also visit our main page and\nreview our [support](https://marketplace.redhat.com/en-us/support) and [documentation](https://marketplace.redhat.com/en-us/documentation/).\n\n### Readme\nYou can find our readme [here.](https://github.com/redhat-marketplace/redhat-marketplace-operator/blob/develop/README.md)\n\n### License information\nYou can find our license information [here.](https://github.com/redhat-marketplace/redhat-marketplace-operator/blob/develop/LICENSE)\n"
  displayName: Red Hat Marketplace Deployment Operator by IBM
  icon:
    - base64data: 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
      mediatype: image/png
  install:
    spec:
      clusterPermissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - config.openshift.io
              resources:
                - clusterversions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - catalogsources
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resourceNames:
                - ibm-operator-catalog
                - opencloud-operators
              resources:
                - catalogsources
              verbs:
                - delete
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
              verbs:
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
                - subscriptions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - operatorgroups
              verbs:
                - create
                - delete
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - subscriptions
              verbs:
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
          serviceAccountName: redhat-marketplace-operator
        - rules:
            - apiGroups:
                - operators.coreos.com
              resources:
                - subscriptions
              verbs:
                - '*'
            - apiGroups:
                - deploy.razee.io
              resources:
                - remoteresources
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
          serviceAccountName: redhat-marketplace-remoteresourcedeployment
        - rules:
            - apiGroups:
                - operators.coreos.com
              resources:
                - subscriptions
              verbs:
                - '*'
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - remoteresources3s
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
          serviceAccountName: redhat-marketplace-remoteresources3deployment
        - rules:
            - nonResourceURLs:
                - /metrics
              verbs:
                - get
          serviceAccountName: redhat-marketplace-servicemonitor-metrics-reader
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
                - namespaces
                - nodes
                - pods
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resources:
                - deployments
                - replicasets
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apiextensions.k8s.io
              resources:
                - customresourcedefinitions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
                - subscriptions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - config.openshift.io
              resources:
                - clusterversions
                - infrastructures
                - consoles
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - marketplaceconfigs
              verbs:
                - get
                - list
                - watch
            - nonResourceURLs:
                - '*'
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
          serviceAccountName: redhat-marketplace-watch-keeper
      deployments:
        - name: redhat-marketplace-controller-manager
          spec:
            replicas: 1
            selector:
              matchLabels:
                redhat.marketplace.com/name: redhat-marketplace-operator
            strategy: {}
            template:
              metadata:
                annotations:
                  authcheckImage: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:6988eba692ab3b46e136d3084a8dc3bca67880dea941bd25fc5852ab3ca6c3c1
                  operatorImage: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b
                  productID: 36cdaba810c348c096b85800dd62bcf1
                  productMetric: FREE
                  productName: Red Hat Marketplace Operator
                  rbacProxyImage: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:da5d5061dbc2ec5082cf14b6c600fb5400b83cf91d7ccebfa80680a238d275db
                  rrs3Image: us.icr.io/armada-master/remoteresource@sha256:390ea3e6020c15084c680cd93ada9ae56bb13099957253b71b286008170934bb
                  watchkeeperImage: us.icr.io/armada-master/watch-keeper@sha256:f6dc522d7440f7047df6015d594517bc748e999c064c3fd727c89aa604d826cf
                labels:
                  app.kubernetes.io/instance: controller-manager
                  app.kubernetes.io/managed-by: operator
                  app.kubernetes.io/name: controller-manager
                  app.kubernetes.io/part-of: redhat-marketplace-operator
                  control-plane: controller-manager
                  redhat.marketplace.com/name: redhat-marketplace-operator
              spec:
                affinity:
                  nodeAffinity:
                    requiredDuringSchedulingIgnoredDuringExecution:
                      nodeSelectorTerms:
                        - matchExpressions:
                            - key: kubernetes.io/arch
                              operator: In
                              values:
                                - amd64
                                - ppc64le
                                - s390x
                            - key: kubernetes.io/os
                              operator: In
                              values:
                                - linux
                containers:
                  - args:
                      - --health-probe-bind-address=:8081
                      - --metrics-addr=127.0.0.1:8080
                      - --enable-leader-election
                    env:
                      - name: OPERATOR_NAME
                        value: redhat-marketplace-operator
                      - name: RELATED_IMAGE_AUTHCHECK
                        value: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:6988eba692ab3b46e136d3084a8dc3bca67880dea941bd25fc5852ab3ca6c3c1
                      - name: RELATED_IMAGE_RHM_RRS3_DEPLOYMENT
                        value: us.icr.io/armada-master/remoteresource@sha256:390ea3e6020c15084c680cd93ada9ae56bb13099957253b71b286008170934bb
                      - name: RELATED_IMAGE_RHM_WATCH_KEEPER_DEPLOYMENT
                        value: us.icr.io/armada-master/watch-keeper@sha256:f6dc522d7440f7047df6015d594517bc748e999c064c3fd727c89aa604d826cf
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: POD_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: OLM_OWNER_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner']
                      - name: OLM_OWNER_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner.namespace']
                      - name: OLM_OWNER_KIND
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner.kind']
                      - name: OPERATOR_GROUP
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.operatorGroup']
                    image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b
                    livenessProbe:
                      httpGet:
                        path: /healthz
                        port: 8081
                      initialDelaySeconds: 15
                      periodSeconds: 20
                    name: manager
                    readinessProbe:
                      httpGet:
                        path: /readyz
                        port: 8081
                      initialDelaySeconds: 5
                      periodSeconds: 10
                    resources:
                      limits:
                        cpu: 400m
                        memory: 700Mi
                      requests:
                        cpu: 100m
                        memory: 225Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                      privileged: false
                      readOnlyRootFilesystem: true
                      runAsNonRoot: true
                  - args:
                      - --secure-listen-address=0.0.0.0:8443
                      - --upstream=http://127.0.0.1:8080/
                      - --logtostderr=true
                      - --v=3
                      - --tls-cert-file=/etc/tls/private/tls.crt
                      - --tls-private-key-file=/etc/tls/private/tls.key
                      - --tls-cipher-suites=TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
                      - --tls-min-version=VersionTLS12
                      - --upstream-ca-file=/etc/configmaps/serving-cert-ca-bundle/service-ca.crt
                    image: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:da5d5061dbc2ec5082cf14b6c600fb5400b83cf91d7ccebfa80680a238d275db
                    name: kube-rbac-proxy
                    ports:
                      - containerPort: 8443
                        name: https
                        protocol: TCP
                    resources:
                      limits:
                        cpu: 20m
                        memory: 25Mi
                      requests:
                        cpu: 10m
                        memory: 20Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                      privileged: false
                      readOnlyRootFilesystem: true
                      runAsNonRoot: true
                    volumeMounts:
                      - mountPath: /etc/tls/private
                        name: redhat-marketplace-controller-manager-metrics-service-tls
                      - mountPath: /etc/configmaps/serving-cert-ca-bundle
                        name: redhat-marketplace-serving-certs-ca-bundle
                securityContext:
                  runAsNonRoot: true
                serviceAccountName: redhat-marketplace-operator
                terminationGracePeriodSeconds: 10
                volumes:
                  - name: redhat-marketplace-controller-manager-metrics-service-tls
                    secret:
                      secretName: redhat-marketplace-controller-manager-metrics-service-tls
                  - configMap:
                      name: redhat-marketplace-serving-certs-ca-bundle
                    name: redhat-marketplace-serving-certs-ca-bundle
      permissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resourceNames:
                - razee-cluster-metadata
                - watch-keeper-config
                - watch-keeper-limit-poll
                - watch-keeper-non-namespaced
              resources:
                - configmaps
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resources:
                - configmaps
                - secrets
                - services
              verbs:
                - create
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - ""
              resources:
                - pods
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resourceNames:
                - clustersubscription
                - rhm-cos-reader-key
                - rhm-operator-secret
                - watch-keeper-secret
              resources:
                - secrets
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - apps
              resources:
                - deployments
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resourceNames:
                - rhm-remoteresource-controller
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - delete
                - get
                - patch
                - update
            - apiGroups:
                - apps
              resourceNames:
                - rhm-remoteresources3-controller
                - rhm-watch-keeper
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - deploy.razee.io
              resources:
                - remoteresources
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - deploy.razee.io
              resourceNames:
                - child
                - parent
              resources:
                - remoteresources
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - marketplaceconfigs
                - marketplaceconfigs/finalizers
                - marketplaceconfigs/status
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - razeedeployments
                - razeedeployments/finalizers
                - razeedeployments/status
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - remoteresources3s
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resourceNames:
                - child
                - parent
              resources:
                - remoteresources3s
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - monitoring.coreos.com
              resources:
                - servicemonitors
              verbs:
                - create
                - get
                - list
                - patch
                - update
                - watch
          serviceAccountName: redhat-marketplace-operator
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - secrets
              verbs:
                - get
                - watch
                - list
            - apiGroups:
                - deploy.razee.io
              resources:
                - remoteresources
                - remoteresources/status
              verbs:
                - '*'
          serviceAccountName: redhat-marketplace-remoteresourcedeployment
        - rules:
            - apiGroups:
                - ""
              resources:
                - pods
                - secrets
              verbs:
                - get
                - watch
                - list
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - remoteresources3s
                - remoteresources3s/status
              verbs:
                - '*'
          serviceAccountName: redhat-marketplace-remoteresources3deployment
    strategy: deployment
  installModes:
    - supported: true
      type: OwnNamespace
    - supported: true
      type: SingleNamespace
    - supported: true
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
  keywords:
    - red hat marketplace
    - operators
    - buy
  links:
    - name: Visit the marketplace!
      url: https://marketplace.redhat.com
    - name: About
      url: https://marketplace.redhat.com/en-us/about
    - name: Support
      url: https://marketplace.redhat.com/en-us/support
  maintainers:
    - email: rhmoper@us.ibm.com
      name: RHM Operator Team
  maturity: stable
  provider:
    name: Red Hat Marketplace
  relatedImages:
    - image: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:6988eba692ab3b46e136d3084a8dc3bca67880dea941bd25fc5852ab3ca6c3c1
      name: redhat-marketplace-authcheck-6988eba692ab3b46e136d3084a8dc3bca67880dea941bd25fc5852ab3ca6c3c1-annotation
    - image: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:da5d5061dbc2ec5082cf14b6c600fb5400b83cf91d7ccebfa80680a238d275db
      name: ose-kube-rbac-proxy-da5d5061dbc2ec5082cf14b6c600fb5400b83cf91d7ccebfa80680a238d275db-annotation
    - image: us.icr.io/armada-master/remoteresource@sha256:390ea3e6020c15084c680cd93ada9ae56bb13099957253b71b286008170934bb
      name: remoteresource-390ea3e6020c15084c680cd93ada9ae56bb13099957253b71b286008170934bb-annotation
    - image: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:da5d5061dbc2ec5082cf14b6c600fb5400b83cf91d7ccebfa80680a238d275db
      name: kube-rbac-proxy
    - image: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:6988eba692ab3b46e136d3084a8dc3bca67880dea941bd25fc5852ab3ca6c3c1
      name: authcheck
    - image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b
      name: redhat-marketplace-operator-d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b-annotation
    - image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:d2f85aaf2b69240e4e734a3d07c8be3e9674e01f2814af1582136217ccb6b87b
      name: manager
    - image: us.icr.io/armada-master/watch-keeper@sha256:f6dc522d7440f7047df6015d594517bc748e999c064c3fd727c89aa604d826cf
      name: rhm_watch_keeper_deployment
    - image: us.icr.io/armada-master/remoteresource@sha256:390ea3e6020c15084c680cd93ada9ae56bb13099957253b71b286008170934bb
      name: rhm_rrs3_deployment
    - image: us.icr.io/armada-master/watch-keeper@sha256:f6dc522d7440f7047df6015d594517bc748e999c064c3fd727c89aa604d826cf
      name: watch-keeper-f6dc522d7440f7047df6015d594517bc748e999c064c3fd727c89aa604d826cf-annotation
  version: 2.11.0

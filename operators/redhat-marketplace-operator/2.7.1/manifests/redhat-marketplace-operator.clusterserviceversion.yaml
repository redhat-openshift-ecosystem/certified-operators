apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "marketplace.redhat.com/v1alpha1",
          "kind": "MarketplaceConfig",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-rhm-marketplaceconfig",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "clusterUUID": "example-clusterUUID",
            "deploySecretName": "rhm-operator-secret",
            "installIBMCatalogSource": false,
            "rhmAccountID": "example-userid"
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1alpha1",
          "kind": "MeterBase",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-meterbase",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "enabled": true,
            "prometheus": {
              "resources": {
                "limits": {
                  "cpu": "2",
                  "memory": "2Gi"
                },
                "requests": {
                  "cpu": "1",
                  "memory": "1G"
                }
              },
              "storage": {
                "size": "20Gi"
              }
            }
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1alpha1",
          "kind": "MeterReport",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-example-meterreport",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "endTime": "2020-08-05T00:00:00Z",
            "prometheusService": {
              "name": "rhm-prometheus-meterbase",
              "namespace": "openshift-redhat-marketplace",
              "targetPort": "rbac"
            },
            "startTime": "2020-08-04T00:00:00Z"
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1alpha1",
          "kind": "RazeeDeployment",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-razeedeployment-example",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "clusterUUID": "example-cluster-uuid",
            "enabled": true
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1alpha1",
          "kind": "RemoteResourceS3",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-example-remoteresources3",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "auth": {
              "iam": {
                "apiKeyRef": {
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "accesskey",
                      "name": "rhm-cos-reader-key"
                    }
                  }
                },
                "grantType": "urn:ibm:params:oauth:grant-type:apikey",
                "responseType": "cloud_iam",
                "url": "https://iam.cloud.ibm.com/identity/token"
              }
            },
            "requests": [
              {
                "options": {
                  "url": "https://s3.us-east.cloud-object-storage.appdomain.cloud/your-accountId/your-cluster-uuid/name-of-child.yaml"
                }
              }
            ]
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1beta1",
          "kind": "MeterDefinition",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-example-meterdefinition-4",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "group": "partner.metering.com",
            "kind": "App",
            "meters": [
              {
                "aggregation": "sum",
                "metricId": "container_cpu_usage_core_avg",
                "period": "1h",
                "query": "rate(container_cpu_usage_seconds_total{cpu=\"total\",container=\"db\"}[5m])*100",
                "workloadType": "Pod"
              }
            ],
            "resourceFilters": [
              {
                "namespace": {
                  "useOperatorGroup": true
                },
                "ownerCRD": {
                  "apiVersion": "marketplace.redhat.com/v1alpha1",
                  "kind": "RazeeDeployment"
                },
                "workloadType": "Pod"
              }
            ]
          }
        },
        {
          "apiVersion": "marketplace.redhat.com/v1beta1",
          "kind": "MeterDefinition",
          "metadata": {
            "labels": {
              "redhat.marketplace.com/name": "redhat-marketplace-operator"
            },
            "name": "redhat-marketplace-meterdefinition-sample",
            "namespace": "openshift-redhat-marketplace"
          },
          "spec": {
            "group": "partner.metering.com",
            "kind": "App",
            "meters": [
              {
                "aggregation": "sum",
                "metricId": "container_cpu_usage_core_avg",
                "period": "1h",
                "query": "rate(container_cpu_usage_seconds_total{cpu=\"total\",container=\"db\"}[5m])*100",
                "workloadType": "Pod"
              }
            ],
            "resourceFilters": [
              {
                "namespace": {
                  "useOperatorGroup": true
                },
                "ownerCRD": {
                  "apiVersion": "marketplace.redhat.com/v1alpha1",
                  "kind": "RazeeDeployment"
                },
                "workloadType": "Pod"
              }
            ]
          }
        }
      ]
    capabilities: Seamless Upgrades
    categories: Developer Tools
    certified: "true"
    containerImage: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:44f7b009228954b0c9d635dc70466ee1518ceac457c92933cd47a59df45b7ab1
    createdAt: "2022-08-05T07:11:39Z"
    description: The Red Hat Marketplace Operator provides cluster management, metering and operator installation for Red Hat Marketplace customers.
    olm.skipRange: '>=1.0.0 <2.7.1'
    operatorframework.io/suggested-namespace: openshift-redhat-marketplace
    operators.operatorframework.io/builder: operator-sdk-v1.13.0+git
    operators.operatorframework.io/internal-objects: '["razeedeployments.marketplace.redhat.com","remoteresources3s.marketplace.redhat.com"]'
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v3
    repository: https://github.com/redhat-marketplace/redhat-marketplace-operator
    support: IBM Corporation
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
    operatorframework.io/os.linux: supported
  name: redhat-marketplace-operator.v2.7.1
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - description: MarketplaceConfig is configuration manager for our Red Hat Marketplace controllers By installing this product you accept the license terms https://ibm.biz/BdfaAY.
        displayName: Marketplace Config
        kind: MarketplaceConfig
        name: marketplaceconfigs.marketplace.redhat.com
        version: v1alpha1
      - description: MeterBase is the resource that sets up Metering for Red Hat Marketplace. This is an internal resource not meant to be modified directly.
        displayName: Meter Base
        kind: MeterBase
        name: meterbases.marketplace.redhat.com
        version: v1alpha1
      - description: MeterDefinition defines the meter workloads used to enable pay for use billing.
        displayName: Meter Definition
        kind: MeterDefinition
        name: meterdefinitions.marketplace.redhat.com
        version: v1beta1
      - kind: MeterReport
        name: meterreports.marketplace.redhat.com
        version: v1alpha1
      - description: RazeeDeployment is the resources that deploys Razee for the Red Hat Marketplace. This is an internal resource not meant to be modified directly.
        displayName: Razee Deployment
        kind: RazeeDeployment
        name: razeedeployments.marketplace.redhat.com
        version: v1alpha1
      - description: RemoteResourceS3 is the Schema for the remoteresources3s API
        displayName: Remote Resource S3
        kind: RemoteResourceS3
        name: remoteresources3s.marketplace.redhat.com
        version: v1alpha1
  description: "The Red Hat Marketplace Operator provides cluster management, metering and\noperator installation for Red Hat Marketplace customers.\n### **Important Note**\nA set of instructions for onboarding is provided here. For more detailed onboarding instructions or information about what is installed please visit [marketplace.redhat.com](https://marketplace.redhat.com).\nTo access images from Red Hat Marketplace and the Marketplace container catalog you will need to make the pull secret attained in installation available to the workloads running on the cluster.\n### Prerequisites\n1. It is recommended to [enable monitoring for user-defined projects](https://docs.openshift.com/container-platform/4.10/monitoring/enabling-monitoring-for-user-defined-projects.html) as the Prometheus provider.\n2. Edit the cluster-monitoring-config ConfigMap object:\n  \n   ```sh\n   $ oc -n openshift-monitoring edit configmap cluster-monitoring-config\n   ```\n\n3. Add enableUserWorkload: true under data/config.yaml:\n  \n    ```sh\n    apiVersion: v1\n    kind: ConfigMap\n    metadata:\n      name: cluster-monitoring-config\n      namespace: openshift-monitoring\n    data:\n      config.yaml: |\n        enableUserWorkload: true\n    ```\n\n4. Configure the user-workload-monitoring-config ConfigMap object:\n  \n    ```sh\n    $ oc -n openshift-user-workload-monitoring edit configmap user-workload-monitoring-config\n    ```\n\n5. Configure a minimum retention time of 168h and minimum storage capacity of 40Gi\n  \n    ```sh\n    apiVersion: v1\n    kind: ConfigMap\n    metadata:\n      name: user-workload-monitoring-config\n      namespace: openshift-user-workload-monitoring\n    data:\n      config.yaml: |\n        prometheus:\n          retention: 168h\n          volumeClaimTemplate:\n            spec:\n              resources:\n                requests:\n                  storage: 40Gi\n    ```\n\n### Installation\n1. Create or get your pull secret from [Red Hat Marketplace](https://marketplace.redhat.com/en-us/documentation/clusters#get-pull-secret).\n2. Install the Red Hat Marketplace Operator in the openshift-redhat-marketplace namespace.\n3. Create a Kubernetes secret in the openshift-redhat-marketplace namespace with the name `redhat-marketplace-pull-secret` and key `PULL_SECRET` with the value of the Red hat Marketplace Pull Secret.\n\n   ```sh\n   # Replace ${PULL_SECRET} with your secret from Red Hat Marketplace\n   oc create secret generic redhat-marketplace-pull-secret -n  openshift-redhat-marketplace --from-literal=PULL_SECRET=${PULL_SECRET}\n   ```\n\n4. Install the Red Hat Marketplace pull secret as a global pull secret on the cluster.\n   **Warning:** This step will make your cluster perform a rolling restart.\n   These steps require `oc`, `jq`, and `base64` to be available on your machine.\n\n   ```sh\n   # Create the docker pull secret file using your PULL_SECRET from Red Hat Marketplace.\n   # Store it in a file called entitledregistryconfigjson.\n   oc create secret docker-registry entitled-registry --docker-server=registry.marketplace.redhat.com --docker-username \"cp\" --docker-password \"${PULL_SECRET}\" --dry-run=true --output=\"jsonpath={.data.\\.dockerconfigjson}\" | base64 --decode > entitledregistryconfigjson\n   # Get the current global secrets on the cluster and store it as a file named dockerconfigjson\n   oc get secret pull-secret -n openshift-config --output=\"jsonpath={.data.\\.dockerconfigjson}\" | base64 --decode > dockerconfigjson\n   # Merge the two dockerconfigs together into a file called dockerconfigjson-merged.\n   jq -s '.[0] * .[1]' dockerconfigjson entitledregistryconfigjson > dockerconfigjson-merged\n   # Set the cluster's dockerconfig file to the new merged version.\n   oc set data secret/pull-secret -n openshift-config --from-file=.dockerconfigjson=dockerconfigjson-merged\n   # Cluster will now restart.\n   ```\n\n### Why is a global pull secret required?\nIn order to successfully install the Red Hat Marketplace products, you will need to make the pull secret available across the cluster. This can be achieved by applying the Red Hat Marketplace Pull Secret as a [global pull secret](https://docs.openshift.com/container-platform/4.6/openshift_images/managing_images/using-image-pull-secrets.html#images-update-global-pull-secret_using-image-pull-secrets).\nFor alternative approachs, please see the official OpenShift [documentation](https://docs.openshift.com/container-platform/4.6/openshift_images/managing_images/using-image-pull-secrets.html).\n### Documentation\nYou can find our documentation [here.](https://marketplace.redhat.com/en-us/documentation/)\n### Getting help\nIf you encounter any issues while using Red Hat Marketplace operator, you\ncan create an issue on our [Github\nrepo](https://github.com/redhat-marketplace/redhat-marketplace-operator) for\nbugs, enhancements, or other requests. You can also visit our main page and\nreview our [support](https://marketplace.redhat.com/en-us/support) and [documentation](https://marketplace.redhat.com/en-us/documentation/).\n### Readme\nYou can find our readme [here.](https://github.com/redhat-marketplace/redhat-marketplace-operator/blob/develop/README.md)\n### License information\nYou can find our license information [here.](https://github.com/redhat-marketplace/redhat-marketplace-operator/blob/develop/LICENSE)\n"
  displayName: Red Hat Marketplace
  icon:
    - base64data: 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
      mediatype: image/png
  install:
    spec:
      clusterPermissions:
        - rules:
            - nonResourceURLs:
                - /api/v1/query
                - /api/v1/query_range
                - /api/v1/targets
              verbs:
                - create
                - get
            - nonResourceURLs:
                - /community-meterdef-index/*
              verbs:
                - get
            - nonResourceURLs:
                - /get-community-meterdefs
              verbs:
                - create
                - get
                - post
            - nonResourceURLs:
                - /get-system-meterdefs/*
              verbs:
                - create
                - get
                - post
            - nonResourceURLs:
                - /global-community-meterdef-index
              verbs:
                - get
            - nonResourceURLs:
                - /global-system-meterdef-index
              verbs:
                - get
            - nonResourceURLs:
                - /metrics
              verbs:
                - get
            - nonResourceURLs:
                - /system-meterdef-index/*
              verbs:
                - get
            - apiGroups:
                - ""
              resources:
                - configmaps
                - namespaces
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - nodes/metrics
              verbs:
                - get
            - apiGroups:
                - ""
              resources:
                - services
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resources:
                - statefulsets
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
                - get
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
                - get
            - apiGroups:
                - config.openshift.io
              resources:
                - clusterversions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - deploy.razee.io
              resources:
                - '*'
              verbs:
                - delete
                - get
                - list
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterdefinitions
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterdefinitions
                - meterdefinitions/status
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterdefinitions/status
              verbs:
                - get
                - list
                - patch
                - update
            - apiGroups:
                - operators.coreos.com
              resources:
                - catalogsources
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resourceNames:
                - ibm-operator-catalog
                - opencloud-operators
              resources:
                - catalogsources
              verbs:
                - delete
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
              verbs:
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - clusterserviceversions
                - subscriptions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - operatorgroups
              verbs:
                - create
                - delete
                - get
                - list
                - watch
            - apiGroups:
                - operators.coreos.com
              resources:
                - subscriptions
              verbs:
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - rbac.authorization.k8s.io
              resourceNames:
                - razeedeploy-admin-cr
                - redhat-marketplace-razeedeploy
              resources:
                - clusterroles
              verbs:
                - delete
            - apiGroups:
                - storage.k8s.io
              resources:
                - storageclasses
              verbs:
                - get
                - list
                - watch
          serviceAccountName: redhat-marketplace-operator
      deployments:
        - name: redhat-marketplace-controller-manager
          spec:
            replicas: 1
            selector:
              matchLabels:
                redhat.marketplace.com/name: redhat-marketplace-operator
            strategy: {}
            template:
              metadata:
                annotations:
                  productID: 36cdaba810c348c096b85800dd62bcf1
                  productMetric: FREE
                  productName: Red Hat Marketplace Operator
                labels:
                  control-plane: controller-manager
                  redhat.marketplace.com/name: redhat-marketplace-operator
              spec:
                affinity:
                  nodeAffinity:
                    requiredDuringSchedulingIgnoredDuringExecution:
                      nodeSelectorTerms:
                        - matchExpressions:
                            - key: kubernetes.io/arch
                              operator: In
                              values:
                                - amd64
                                - ppc64le
                                - s390x
                containers:
                  - args:
                      - --enable-leader-election
                    env:
                      - name: RELATED_IMAGE_RHM_RRS3_DEPLOYMENT
                        value: us.icr.io/armada-master/remoteresources3@sha256:6e7a075b9ff8d3e2459dad46445758a2a3f6fc4887392645b4ca86fe5b1d0fb0
                      - name: RELATED_IMAGE_RHM_WATCH_KEEPER_DEPLOYMENT
                        value: us.icr.io/armada-master/watch-keeper@sha256:9dd6a3999077d1830a6d0b3a7dfb7e744fc29ac9858df674472ee82c2e5b8ff4
                      - name: RELATED_IMAGE_PROMETHEUS
                        value: registry.redhat.io/openshift4/ose-prometheus@sha256:61be89d4ee3638c166751f88bf133e003f2d57953daa328c72501718f742a8d1
                      - name: RELATED_IMAGE_OAUTH_PROXY
                        value: registry.redhat.io/openshift4/ose-oauth-proxy@sha256:3af967f9441485adb4e628f0a967c971b02b63e75a0f6cbb2fa82acad2758a84
                      - name: RELATED_IMAGE_PROMETHEUS_OPERATOR
                        value: registry.redhat.io/openshift4/ose-prometheus-operator@sha256:170240d4efe584d1bef877e2f62829e62aa4ccd3cbfbfe4c46019494ffd0d3f1
                      - name: RELATED_IMAGE_CONFIGMAP_RELOADER
                        value: registry.redhat.io/openshift4/ose-configmap-reloader@sha256:01350280d3c5155801098c096b091d8ff0a4e6ab5a0bf775504eb0677cdfebf8
                      - name: RELATED_IMAGE_PROMETHEUS_CONFIGMAP_RELOADER
                        value: registry.redhat.io/openshift4/ose-prometheus-config-reloader@sha256:d7303bfee747ba6d76ca3401bda664dd9e2042b82cd1b7a4f536ead88ab3b156
                      - name: RELATED_IMAGE_KUBE_RBAC_PROXY
                        value: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:036c78fea970d6bbe45aa1097a8ed701c72ce1117404450dd7e717a1bedd2b2a
                      - name: IBMCATALOGSOURCE
                        value: "true"
                      - name: OPERATOR_NAME
                        value: redhat-marketplace-operator
                      - name: RELATED_IMAGE_REPORTER
                        value: quay.io/rh-marketplace/redhat-marketplace-reporter@sha256:7c9c37800738c9d136054786d72910c6a7c88d41818e6b9a0e320abf11d5154a
                      - name: RELATED_IMAGE_METRIC_STATE
                        value: quay.io/rh-marketplace/redhat-marketplace-metric-state@sha256:bebfd4314f01e18feb059a963b941f28ed867eddb9777f8e8c7f9159aaeca33a
                      - name: RELATED_IMAGE_AUTHCHECK
                        value: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:e5b813981e4149942e42b41fecf7ea25d7a11775389052f5e690b9d484a37f3e
                      - name: RELATED_IMAGE_DQLITE
                        value: quay.io/rh-marketplace/redhat-marketplace-data-service@sha256:5c182dfc5c1ac200b0cc5c0c502641e601f78276e359f7a58642e25aafc9e4ba
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: POD_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: OLM_OWNER_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner']
                      - name: OLM_OWNER_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner.namespace']
                      - name: OLM_OWNER_KIND
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.labels['olm.owner.kind']
                      - name: OPERATOR_GROUP
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.operatorGroup']
                    image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:44f7b009228954b0c9d635dc70466ee1518ceac457c92933cd47a59df45b7ab1
                    livenessProbe:
                      httpGet:
                        path: /healthz
                        port: 8081
                      initialDelaySeconds: 15
                      periodSeconds: 20
                    name: manager
                    readinessProbe:
                      httpGet:
                        path: /readyz
                        port: 8081
                      initialDelaySeconds: 5
                      periodSeconds: 10
                    resources:
                      limits:
                        cpu: 400m
                        memory: 700Mi
                      requests:
                        cpu: 100m
                        memory: 225Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                      privileged: false
                      readOnlyRootFilesystem: true
                      runAsNonRoot: true
                serviceAccountName: redhat-marketplace-operator
                terminationGracePeriodSeconds: 10
      permissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resourceNames:
                - kubelet-serving-ca-bundle
                - serving-certs-ca-bundle
              resources:
                - configmaps
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - razee-cluster-metadata
                - watch-keeper-config
                - watch-keeper-limit-poll
                - watch-keeper-non-namespaced
              resources:
                - configmaps
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - ""
              resources:
                - persistentvolumeclaims
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - ""
              resources:
                - pods
              verbs:
                - delete
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - secrets
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - ""
              resourceNames:
                - clustersubscription
                - rhm-operator-secret
                - watch-keeper-secret
              resources:
                - secrets
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - ibm-entitlement-key
                - redhat-marketplace-pull-secret
                - rhm-operator-secret
              resources:
                - secrets
              verbs:
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - rhm-data-service-mtls
              resources:
                - secrets
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - razeedeploy-sa
                - watch-keeper-sa
              resources:
                - serviceaccounts
              verbs:
                - delete
            - apiGroups:
                - ""
              resources:
                - serviceaccounts/token
              verbs:
                - create
                - get
                - list
                - update
            - apiGroups:
                - ""
              resources:
                - services
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resourceNames:
                - kube-state-metrics
                - prometheus-operator
                - rhm-metric-state-service
                - rhm-prometheus-meterbase
              resources:
                - services
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - rhm-data-service
              resources:
                - services
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - ""
              resourceNames:
                - rhm-meterdefinition-file-server
              resources:
                - services
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - apps
              resources:
                - deployments
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resourceNames:
                - clustersubscription
                - featureflagsetld-controller
                - managedset-controller
                - mustachetemplate-controller
                - remoteresource-controller
                - remoteresources3-controller
                - remoteresources3decrypt-controller
                - watch-keeper
              resources:
                - deployments
              verbs:
                - delete
            - apiGroups:
                - apps
              resourceNames:
                - prometheus-operator
                - rhm-metric-state
              resources:
                - deployments
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - apps
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resourceNames:
                - rhm-remoteresources3-controller
                - rhm-watch-keeper
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - apps
              resourceNames:
                - redhat-marketplace-controller-manager
              resources:
                - deployments/finalizers
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - apps
              resources:
                - statefulsets
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resourceNames:
                - rhm-data-service
              resources:
                - statefulsets
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - apps.openshift.io
              resources:
                - deploymentconfigs
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - apps.openshift.io
              resourceNames:
                - rhm-meterdefinition-file-server
              resources:
                - deploymentconfigs
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - batch
                - extensions
              resources:
                - cronjobs
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - batch
                - extensions
              resourceNames:
                - rhm-meter-report-upload
              resources:
                - cronjobs
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - batch
                - extensions
              resources:
                - jobs
              verbs:
                - delete
                - get
                - list
                - watch
            - apiGroups:
                - batch
                - extensions
              resourceNames:
                - razeedeploy-job
              resources:
                - jobs
              verbs:
                - delete
            - apiGroups:
                - image.openshift.io
              resources:
                - imagestreams
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - image.openshift.io
              resourceNames:
                - rhm-meterdefinition-file-server
              resources:
                - imagestreams
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - events
              verbs:
                - create
                - patch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - marketplaceconfigs
                - marketplaceconfigs/finalizers
                - marketplaceconfigs/status
              verbs:
                - create
                - delete
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterbases
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resourceNames:
                - rhm-marketplaceconfig-meterbase
              resources:
                - meterbases
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterbases
                - meterbases/finalizers
                - meterbases/status
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterreports
              verbs:
                - create
                - delete
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - meterreports
                - meterreports/finalizers
                - meterreports/status
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - razeedeployments
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resourceNames:
                - rhm-marketplaceconfig-razeedeployment
              resources:
                - razeedeployments
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - razeedeployments
                - razeedeployments/finalizers
                - razeedeployments/status
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - remoteresources3s
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - marketplace.redhat.com
              resourceNames:
                - child
                - parent
              resources:
                - remoteresources3s
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - marketplace.redhat.com
              resources:
                - remoteresources3s
                - remoteresources3s/status
              verbs:
                - get
                - list
                - patch
                - update
                - watch
            - apiGroups:
                - monitoring.coreos.com
              resourceNames:
                - rhm-marketplaceconfig-meterbase
              resources:
                - prometheuses
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - monitoring.coreos.com
              resources:
                - prometheuses
                - servicemonitors
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - monitoring.coreos.com
              resourceNames:
                - kube-state-metrics
                - prometheus-user-workload
                - redhat-marketplace-kube-state-metrics
                - redhat-marketplace-kubelet
                - rhm-metric-state
                - rhm-prometheus-meterbase
              resources:
                - servicemonitors
              verbs:
                - delete
                - patch
                - update
            - apiGroups:
                - route.openshift.io
              resources:
                - routes
              verbs:
                - create
                - get
                - list
                - watch
            - apiGroups:
                - route.openshift.io
              resourceNames:
                - rhm-data-service
              resources:
                - routes
              verbs:
                - delete
                - patch
                - update
          serviceAccountName: redhat-marketplace-operator
    strategy: deployment
  installModes:
    - supported: true
      type: OwnNamespace
    - supported: true
      type: SingleNamespace
    - supported: true
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
  keywords:
    - red hat marketplace
    - operators
    - buy
  links:
    - name: Visit the marketplace!
      url: https://marketplace.redhat.com
    - name: About
      url: https://marketplace.redhat.com/en-us/about
    - name: Support
      url: https://marketplace.redhat.com/en-us/support
  maintainers:
    - email: rhmoper@us.ibm.com
      name: RHM Operator Team
  maturity: stable
  provider:
    name: Red Hat Marketplace
  relatedImages:
    - image: registry.redhat.io/openshift4/ose-prometheus@sha256:61be89d4ee3638c166751f88bf133e003f2d57953daa328c72501718f742a8d1
      name: prometheus
    - image: quay.io/rh-marketplace/redhat-marketplace-authcheck@sha256:e5b813981e4149942e42b41fecf7ea25d7a11775389052f5e690b9d484a37f3e
      name: authcheck
    - image: registry.redhat.io/openshift4/ose-prometheus-operator@sha256:170240d4efe584d1bef877e2f62829e62aa4ccd3cbfbfe4c46019494ffd0d3f1
      name: prometheus_operator
    - image: registry.redhat.io/openshift4/ose-kube-rbac-proxy@sha256:036c78fea970d6bbe45aa1097a8ed701c72ce1117404450dd7e717a1bedd2b2a
      name: kube_rbac_proxy
    - image: us.icr.io/armada-master/watch-keeper@sha256:9dd6a3999077d1830a6d0b3a7dfb7e744fc29ac9858df674472ee82c2e5b8ff4
      name: rhm_watch_keeper_deployment
    - image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:44f7b009228954b0c9d635dc70466ee1518ceac457c92933cd47a59df45b7ab1
      name: redhat-marketplace-operator-44f7b009228954b0c9d635dc70466ee1518ceac457c92933cd47a59df45b7ab1-annotation
    - image: quay.io/rh-marketplace/redhat-marketplace-operator@sha256:44f7b009228954b0c9d635dc70466ee1518ceac457c92933cd47a59df45b7ab1
      name: manager
    - image: registry.redhat.io/openshift4/ose-prometheus-config-reloader@sha256:d7303bfee747ba6d76ca3401bda664dd9e2042b82cd1b7a4f536ead88ab3b156
      name: prometheus_configmap_reloader
    - image: registry.redhat.io/openshift4/ose-configmap-reloader@sha256:01350280d3c5155801098c096b091d8ff0a4e6ab5a0bf775504eb0677cdfebf8
      name: configmap_reloader
    - image: quay.io/rh-marketplace/redhat-marketplace-data-service@sha256:5c182dfc5c1ac200b0cc5c0c502641e601f78276e359f7a58642e25aafc9e4ba
      name: dqlite
    - image: registry.redhat.io/openshift4/ose-oauth-proxy@sha256:3af967f9441485adb4e628f0a967c971b02b63e75a0f6cbb2fa82acad2758a84
      name: oauth_proxy
    - image: us.icr.io/armada-master/remoteresources3@sha256:6e7a075b9ff8d3e2459dad46445758a2a3f6fc4887392645b4ca86fe5b1d0fb0
      name: rhm_rrs3_deployment
    - image: quay.io/rh-marketplace/redhat-marketplace-reporter@sha256:7c9c37800738c9d136054786d72910c6a7c88d41818e6b9a0e320abf11d5154a
      name: reporter
    - image: quay.io/rh-marketplace/redhat-marketplace-metric-state@sha256:bebfd4314f01e18feb059a963b941f28ed867eddb9777f8e8c7f9159aaeca33a
      name: metric_state
  version: 2.7.1
  webhookdefinitions: []

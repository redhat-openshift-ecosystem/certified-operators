---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    helm.sh/resource-policy: keep
  creationTimestamp: null
  labels:
    resource.alpha.banzaicloud.io/revision: 1.15.3
  name: istiomeshes.servicemesh.cisco.com
spec:
  group: servicemesh.cisco.com
  names:
    kind: IstioMesh
    listKind: IstioMeshList
    plural: istiomeshes
    shortNames:
    - im
    - imesh
    singular: istiomesh
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              config:
                properties:
                  accessLogEncoding:
                    enum:
                    - TEXT
                    - JSON
                    type: string
                  accessLogFile:
                    type: string
                  accessLogFormat:
                    type: string
                  ca:
                    properties:
                      address:
                        type: string
                      istiodSide:
                        type: boolean
                      requestTimeout:
                        type: string
                      tlsSettings:
                        properties:
                          caCertificates:
                            type: string
                          clientCertificate:
                            type: string
                          credentialName:
                            type: string
                          insecureSkipVerify:
                            nullable: true
                            type: boolean
                          mode:
                            enum:
                            - DISABLE
                            - SIMPLE
                            - MUTUAL
                            - ISTIO_MUTUAL
                            type: string
                          privateKey:
                            type: string
                          sni:
                            type: string
                          subjectAltNames:
                            items:
                              type: string
                            type: array
                        required:
                        - mode
                        type: object
                    type: object
                  caCertificates:
                    items:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - pem
                          - required:
                            - spiffeBundleUrl
                      - required:
                        - pem
                      - required:
                        - spiffeBundleUrl
                      properties:
                        certSigners:
                          items:
                            type: string
                          type: array
                        pem:
                          type: string
                        spiffeBundleUrl:
                          type: string
                        trustDomains:
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  certificates:
                    items:
                      properties:
                        dnsNames:
                          items:
                            type: string
                          type: array
                        secretName:
                          type: string
                      type: object
                    type: array
                  configSources:
                    items:
                      properties:
                        address:
                          type: string
                        subscribedResources:
                          items:
                            enum:
                            - SERVICE_REGISTRY
                            type: string
                          type: array
                        tlsSettings:
                          properties:
                            caCertificates:
                              type: string
                            clientCertificate:
                              type: string
                            credentialName:
                              type: string
                            insecureSkipVerify:
                              nullable: true
                              type: boolean
                            mode:
                              enum:
                              - DISABLE
                              - SIMPLE
                              - MUTUAL
                              - ISTIO_MUTUAL
                              type: string
                            privateKey:
                              type: string
                            sni:
                              type: string
                            subjectAltNames:
                              items:
                                type: string
                              type: array
                          required:
                          - mode
                          type: object
                      type: object
                    type: array
                  connectTimeout:
                    type: string
                  defaultConfig:
                    oneOf:
                    - not:
                        anyOf:
                        - required:
                          - serviceCluster
                        - required:
                          - tracingServiceName
                    - required:
                      - serviceCluster
                    - required:
                      - tracingServiceName
                    properties:
                      availabilityZone:
                        type: string
                      binaryPath:
                        type: string
                      caCertificatesPem:
                        items:
                          type: string
                        type: array
                      concurrency:
                        nullable: true
                        type: integer
                      configPath:
                        type: string
                      controlPlaneAuthPolicy:
                        enum:
                        - NONE
                        - MUTUAL_TLS
                        - INHERIT
                        type: string
                      customConfigFile:
                        type: string
                      discoveryAddress:
                        type: string
                      discoveryRefreshDelay:
                        type: string
                      drainDuration:
                        type: string
                      envoyAccessLogService:
                        properties:
                          address:
                            type: string
                          tcpKeepalive:
                            properties:
                              interval:
                                type: string
                              probes:
                                type: integer
                              time:
                                type: string
                            type: object
                          tlsSettings:
                            properties:
                              caCertificates:
                                type: string
                              clientCertificate:
                                type: string
                              credentialName:
                                type: string
                              insecureSkipVerify:
                                nullable: true
                                type: boolean
                              mode:
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                type: string
                              sni:
                                type: string
                              subjectAltNames:
                                items:
                                  type: string
                                type: array
                            required:
                            - mode
                            type: object
                        type: object
                      envoyMetricsService:
                        properties:
                          address:
                            type: string
                          tcpKeepalive:
                            properties:
                              interval:
                                type: string
                              probes:
                                type: integer
                              time:
                                type: string
                            type: object
                          tlsSettings:
                            properties:
                              caCertificates:
                                type: string
                              clientCertificate:
                                type: string
                              credentialName:
                                type: string
                              insecureSkipVerify:
                                nullable: true
                                type: boolean
                              mode:
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                type: string
                              sni:
                                type: string
                              subjectAltNames:
                                items:
                                  type: string
                                type: array
                            required:
                            - mode
                            type: object
                        type: object
                      envoyMetricsServiceAddress:
                        type: string
                      extraStatTags:
                        items:
                          type: string
                        type: array
                      gatewayTopology:
                        properties:
                          forwardClientCertDetails:
                            enum:
                            - UNDEFINED
                            - SANITIZE
                            - FORWARD_ONLY
                            - APPEND_FORWARD
                            - SANITIZE_SET
                            - ALWAYS_FORWARD_ONLY
                            type: string
                          numTrustedProxies:
                            type: integer
                        type: object
                      holdApplicationUntilProxyStarts:
                        nullable: true
                        type: boolean
                      image:
                        properties:
                          imageType:
                            type: string
                        type: object
                      interceptionMode:
                        enum:
                        - REDIRECT
                        - TPROXY
                        - NONE
                        type: string
                      meshId:
                        type: string
                      parentShutdownDuration:
                        type: string
                      privateKeyProvider:
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - cryptomb
                        - required:
                          - cryptomb
                        properties:
                          cryptomb:
                            properties:
                              pollDelay:
                                type: string
                            type: object
                        type: object
                      proxyAdminPort:
                        format: int32
                        type: integer
                      proxyBootstrapTemplatePath:
                        type: string
                      proxyMetadata:
                        additionalProperties:
                          type: string
                        type: object
                      proxyStatsMatcher:
                        properties:
                          inclusionPrefixes:
                            items:
                              type: string
                            type: array
                          inclusionRegexps:
                            items:
                              type: string
                            type: array
                          inclusionSuffixes:
                            items:
                              type: string
                            type: array
                        type: object
                      readinessProbe:
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - httpGet
                            - required:
                              - tcpSocket
                            - required:
                              - exec
                        - required:
                          - httpGet
                        - required:
                          - tcpSocket
                        - required:
                          - exec
                        properties:
                          exec:
                            properties:
                              command:
                                items:
                                  type: string
                                type: array
                            type: object
                          failureThreshold:
                            format: int32
                            type: integer
                          httpGet:
                            properties:
                              host:
                                type: string
                              httpHeaders:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    value:
                                      type: string
                                  type: object
                                type: array
                              path:
                                type: string
                              port:
                                type: integer
                              scheme:
                                type: string
                            required:
                            - port
                            type: object
                          initialDelaySeconds:
                            format: int32
                            type: integer
                          periodSeconds:
                            format: int32
                            type: integer
                          successThreshold:
                            format: int32
                            type: integer
                          tcpSocket:
                            properties:
                              host:
                                type: string
                              port:
                                type: integer
                            required:
                            - port
                            type: object
                          timeoutSeconds:
                            format: int32
                            type: integer
                        type: object
                      runtimeValues:
                        additionalProperties:
                          type: string
                        type: object
                      sds:
                        properties:
                          enabled:
                            type: boolean
                          k8sSaJwtPath:
                            type: string
                        type: object
                      serviceCluster:
                        type: string
                      statNameLength:
                        format: int32
                        type: integer
                      statsdUdpAddress:
                        type: string
                      statusPort:
                        format: int32
                        type: integer
                      terminationDrainDuration:
                        type: string
                      tracing:
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - zipkin
                            - required:
                              - lightstep
                            - required:
                              - datadog
                            - required:
                              - stackdriver
                            - required:
                              - openCensusAgent
                        - required:
                          - zipkin
                        - required:
                          - lightstep
                        - required:
                          - datadog
                        - required:
                          - stackdriver
                        - required:
                          - openCensusAgent
                        properties:
                          customTags:
                            additionalProperties:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - literal
                                  - required:
                                    - environment
                                  - required:
                                    - header
                              - required:
                                - literal
                              - required:
                                - environment
                              - required:
                                - header
                              properties:
                                environment:
                                  properties:
                                    defaultValue:
                                      type: string
                                    name:
                                      type: string
                                  type: object
                                header:
                                  properties:
                                    defaultValue:
                                      type: string
                                    name:
                                      type: string
                                  type: object
                                literal:
                                  properties:
                                    value:
                                      type: string
                                  type: object
                              type: object
                            type: object
                          datadog:
                            properties:
                              address:
                                type: string
                            type: object
                          lightstep:
                            properties:
                              accessToken:
                                type: string
                              address:
                                type: string
                            type: object
                          maxPathTagLength:
                            type: integer
                          openCensusAgent:
                            properties:
                              address:
                                type: string
                              context:
                                items:
                                  enum:
                                  - UNSPECIFIED
                                  - W3C_TRACE_CONTEXT
                                  - GRPC_BIN
                                  - CLOUD_TRACE_CONTEXT
                                  - B3
                                  type: string
                                type: array
                            type: object
                          sampling:
                            format: double
                            type: number
                          stackdriver:
                            properties:
                              debug:
                                type: boolean
                              maxNumberOfAnnotations:
                                nullable: true
                                type: integer
                              maxNumberOfAttributes:
                                nullable: true
                                type: integer
                              maxNumberOfMessageEvents:
                                nullable: true
                                type: integer
                            type: object
                          tlsSettings:
                            properties:
                              caCertificates:
                                type: string
                              clientCertificate:
                                type: string
                              credentialName:
                                type: string
                              insecureSkipVerify:
                                nullable: true
                                type: boolean
                              mode:
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                type: string
                              sni:
                                type: string
                              subjectAltNames:
                                items:
                                  type: string
                                type: array
                            required:
                            - mode
                            type: object
                          zipkin:
                            properties:
                              address:
                                type: string
                            type: object
                        type: object
                      tracingServiceName:
                        enum:
                        - APP_LABEL_AND_NAMESPACE
                        - CANONICAL_NAME_ONLY
                        - CANONICAL_NAME_AND_NAMESPACE
                        type: string
                      zipkinAddress:
                        type: string
                    type: object
                  defaultDestinationRuleExportTo:
                    items:
                      type: string
                    type: array
                  defaultHttpRetryPolicy:
                    properties:
                      attempts:
                        format: int32
                        type: integer
                      perTryTimeout:
                        type: string
                      retryOn:
                        type: string
                      retryRemoteLocalities:
                        nullable: true
                        type: boolean
                    required:
                    - attempts
                    type: object
                  defaultProviders:
                    properties:
                      accessLogging:
                        items:
                          type: string
                        type: array
                      metrics:
                        items:
                          type: string
                        type: array
                      tracing:
                        items:
                          type: string
                        type: array
                    type: object
                  defaultServiceExportTo:
                    items:
                      type: string
                    type: array
                  defaultVirtualServiceExportTo:
                    items:
                      type: string
                    type: array
                  disableEnvoyListenerLog:
                    type: boolean
                  discoverySelectors:
                    items:
                      properties:
                        matchExpressions:
                          items:
                            properties:
                              key:
                                type: string
                              operator:
                                type: string
                              values:
                                items:
                                  type: string
                                type: array
                            type: object
                          type: array
                        matchLabels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                  dnsRefreshRate:
                    type: string
                  enableAutoMtls:
                    nullable: true
                    type: boolean
                  enableEnvoyAccessLogService:
                    type: boolean
                  enablePrometheusMerge:
                    nullable: true
                    type: boolean
                  enableTracing:
                    type: boolean
                  extensionProviders:
                    items:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - envoyExtAuthzHttp
                          - required:
                            - envoyExtAuthzGrpc
                          - required:
                            - zipkin
                          - required:
                            - lightstep
                          - required:
                            - datadog
                          - required:
                            - stackdriver
                          - required:
                            - opencensus
                          - required:
                            - skywalking
                          - required:
                            - prometheus
                          - required:
                            - envoyFileAccessLog
                          - required:
                            - envoyHttpAls
                          - required:
                            - envoyTcpAls
                          - required:
                            - envoyOtelAls
                      - required:
                        - envoyExtAuthzHttp
                      - required:
                        - envoyExtAuthzGrpc
                      - required:
                        - zipkin
                      - required:
                        - lightstep
                      - required:
                        - datadog
                      - required:
                        - stackdriver
                      - required:
                        - opencensus
                      - required:
                        - skywalking
                      - required:
                        - prometheus
                      - required:
                        - envoyFileAccessLog
                      - required:
                        - envoyHttpAls
                      - required:
                        - envoyTcpAls
                      - required:
                        - envoyOtelAls
                      properties:
                        datadog:
                          properties:
                            maxTagLength:
                              type: integer
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        envoyExtAuthzGrpc:
                          properties:
                            failOpen:
                              type: boolean
                            includeRequestBodyInCheck:
                              properties:
                                allowPartialMessage:
                                  type: boolean
                                maxRequestBytes:
                                  type: integer
                                packAsBytes:
                                  type: boolean
                              type: object
                            port:
                              type: integer
                            service:
                              type: string
                            statusOnError:
                              type: string
                            timeout:
                              type: string
                          type: object
                        envoyExtAuthzHttp:
                          properties:
                            failOpen:
                              type: boolean
                            headersToDownstreamOnAllow:
                              items:
                                type: string
                              type: array
                            headersToDownstreamOnDeny:
                              items:
                                type: string
                              type: array
                            headersToUpstreamOnAllow:
                              items:
                                type: string
                              type: array
                            includeAdditionalHeadersInCheck:
                              additionalProperties:
                                type: string
                              type: object
                            includeHeadersInCheck:
                              items:
                                type: string
                              type: array
                            includeRequestBodyInCheck:
                              properties:
                                allowPartialMessage:
                                  type: boolean
                                maxRequestBytes:
                                  type: integer
                                packAsBytes:
                                  type: boolean
                              type: object
                            includeRequestHeadersInCheck:
                              items:
                                type: string
                              type: array
                            pathPrefix:
                              type: string
                            port:
                              type: integer
                            service:
                              type: string
                            statusOnError:
                              type: string
                            timeout:
                              type: string
                          type: object
                        envoyFileAccessLog:
                          properties:
                            logFormat:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - text
                                  - required:
                                    - labels
                              - required:
                                - text
                              - required:
                                - labels
                              properties:
                                labels:
                                  type: object
                                text:
                                  type: string
                              type: object
                            path:
                              type: string
                          type: object
                        envoyHttpAls:
                          properties:
                            additionalRequestHeadersToLog:
                              items:
                                type: string
                              type: array
                            additionalResponseHeadersToLog:
                              items:
                                type: string
                              type: array
                            additionalResponseTrailersToLog:
                              items:
                                type: string
                              type: array
                            filterStateObjectsToLog:
                              items:
                                type: string
                              type: array
                            logName:
                              type: string
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        envoyOtelAls:
                          properties:
                            logFormat:
                              properties:
                                labels:
                                  type: object
                                text:
                                  type: string
                              type: object
                            logName:
                              type: string
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        envoyTcpAls:
                          properties:
                            filterStateObjectsToLog:
                              items:
                                type: string
                              type: array
                            logName:
                              type: string
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        lightstep:
                          properties:
                            accessToken:
                              type: string
                            maxTagLength:
                              type: integer
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        name:
                          type: string
                        opencensus:
                          properties:
                            context:
                              items:
                                enum:
                                - UNSPECIFIED
                                - W3C_TRACE_CONTEXT
                                - GRPC_BIN
                                - CLOUD_TRACE_CONTEXT
                                - B3
                                type: string
                              type: array
                            maxTagLength:
                              type: integer
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        prometheus:
                          type: object
                        skywalking:
                          properties:
                            accessToken:
                              type: string
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                        stackdriver:
                          properties:
                            debug:
                              type: boolean
                            logging:
                              properties:
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                            maxNumberOfAnnotations:
                              nullable: true
                              type: integer
                            maxNumberOfAttributes:
                              nullable: true
                              type: integer
                            maxNumberOfMessageEvents:
                              nullable: true
                              type: integer
                            maxTagLength:
                              type: integer
                          type: object
                        zipkin:
                          properties:
                            maxTagLength:
                              type: integer
                            port:
                              type: integer
                            service:
                              type: string
                          type: object
                      type: object
                    type: array
                  h2UpgradePolicy:
                    enum:
                    - DO_NOT_UPGRADE
                    - UPGRADE
                    type: string
                  inboundClusterStatName:
                    type: string
                  ingressClass:
                    type: string
                  ingressControllerMode:
                    enum:
                    - UNSPECIFIED
                    - "OFF"
                    - DEFAULT
                    - STRICT
                    type: string
                  ingressSelector:
                    type: string
                  ingressService:
                    type: string
                  localityLbSetting:
                    properties:
                      distribute:
                        items:
                          properties:
                            from:
                              type: string
                            to:
                              additionalProperties:
                                type: integer
                              type: object
                          type: object
                        type: array
                      enabled:
                        nullable: true
                        type: boolean
                      failover:
                        items:
                          properties:
                            from:
                              type: string
                            to:
                              type: string
                          type: object
                        type: array
                      failoverPriority:
                        items:
                          type: string
                        type: array
                    type: object
                  meshMTLS:
                    properties:
                      minProtocolVersion:
                        enum:
                        - TLS_AUTO
                        - TLSV1_2
                        - TLSV1_3
                        type: string
                    type: object
                  outboundClusterStatName:
                    type: string
                  outboundTrafficPolicy:
                    properties:
                      mode:
                        enum:
                        - REGISTRY_ONLY
                        - ALLOW_ANY
                        type: string
                    type: object
                  pathNormalization:
                    properties:
                      normalization:
                        enum:
                        - DEFAULT
                        - NONE
                        - BASE
                        - MERGE_SLASHES
                        - DECODE_AND_MERGE_SLASHES
                        type: string
                    type: object
                  protocolDetectionTimeout:
                    type: string
                  proxyHttpPort:
                    format: int32
                    type: integer
                  proxyListenPort:
                    format: int32
                    type: integer
                  rootNamespace:
                    type: string
                  serviceSettings:
                    items:
                      properties:
                        hosts:
                          items:
                            type: string
                          type: array
                        settings:
                          properties:
                            clusterLocal:
                              type: boolean
                          type: object
                      type: object
                    type: array
                  tcpKeepalive:
                    properties:
                      interval:
                        type: string
                      probes:
                        type: integer
                      time:
                        type: string
                    type: object
                  thriftConfig:
                    properties:
                      rateLimitTimeout:
                        type: string
                      rateLimitUrl:
                        type: string
                    type: object
                  trustDomain:
                    type: string
                  trustDomainAliases:
                    items:
                      type: string
                    type: array
                  verifyCertificateAtClient:
                    nullable: true
                    type: boolean
                type: object
            type: object
          status:
            properties:
              errorMessage:
                type: string
              status:
                enum:
                - Unspecified
                - Created
                - ReconcileFailed
                - Reconciling
                - Available
                - Unmanaged
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null

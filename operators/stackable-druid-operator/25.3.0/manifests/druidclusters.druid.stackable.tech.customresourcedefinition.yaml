apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations: {}
  name: druidclusters.druid.stackable.tech
spec:
  group: druid.stackable.tech
  names:
    categories: []
    kind: DruidCluster
    plural: druidclusters
    shortNames:
    - druid
    singular: druidcluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns: []
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for DruidClusterSpec via `CustomResource`
        properties:
          spec:
            description: A Druid cluster stacklet. This resource is managed by the
              Stackable operator for Apache Druid. Find more information on how to
              use it and the resources that the operator generates in the [operator
              documentation](https://docs.stackable.tech/home/25.3/druid/).
            properties:
              brokers:
                description: This struct represents a role - e.g. HDFS datanodes or
                  Trino workers. It has a key-value-map containing all the roleGroups
                  that are part of this role. Additionally, there is a `config`, which
                  is configurable at the role *and* roleGroup level. Everything at
                  roleGroup level is merged on top of what is configured on role level.
                  There is also a second form of config, which can only be configured
                  at role level, the `roleConfig`. You can learn more about this in
                  the [Roles and role group concept documentation](https://docs.stackable.tech/home/25.3/concepts/roles-and-role-groups).
                properties:
                  cliOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    type: object
                  config:
                    default: {}
                    properties:
                      affinity:
                        default:
                          nodeAffinity: null
                          nodeSelector: null
                          podAffinity: null
                          podAntiAffinity: null
                        description: These configuration settings control [Pod placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                        properties:
                          nodeAffinity:
                            description: Same as the `spec.affinity.nodeAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: Simple key-value pairs forming a nodeSelector,
                              see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                          podAffinity:
                            description: Same as the `spec.affinity.podAffinity` field
                              on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          podAntiAffinity:
                            description: Same as the `spec.affinity.podAntiAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      gracefulShutdownTimeout:
                        description: The time period Pods have to gracefully shut
                          down, e.g. `30m`, `1h` or `2d`. Read more about graceful
                          shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                        nullable: true
                        type: string
                      logging:
                        default:
                          containers: {}
                          enableVectorAgent: null
                        description: Logging configuration, learn more in the [logging
                          concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                        properties:
                          containers:
                            additionalProperties:
                              anyOf:
                              - required:
                                - custom
                              - {}
                              description: Log configuration of the container
                              properties:
                                console:
                                  description: Configuration for the console appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                custom:
                                  description: Custom log configuration provided in
                                    a ConfigMap
                                  properties:
                                    configMap:
                                      description: ConfigMap containing the log configuration
                                        files
                                      nullable: true
                                      type: string
                                  type: object
                                file:
                                  description: Configuration for the file appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                loggers:
                                  additionalProperties:
                                    description: Configuration of a logger
                                    properties:
                                      level:
                                        description: The log level threshold. Log
                                          events with a lower log level are discarded.
                                        enum:
                                        - TRACE
                                        - DEBUG
                                        - INFO
                                        - WARN
                                        - ERROR
                                        - FATAL
                                        - NONE
                                        nullable: true
                                        type: string
                                    type: object
                                  default: {}
                                  description: Configuration per logger
                                  type: object
                              type: object
                            description: Log configuration per container.
                            type: object
                          enableVectorAgent:
                            description: Wether or not to deploy a container with
                              the Vector log agent.
                            nullable: true
                            type: boolean
                        type: object
                      requestedSecretLifetime:
                        description: Request secret (currently only autoTls certificates)
                          lifetime from the secret operator, e.g. `7d`, or `30d`.
                          This can be shortened by the `maxCertificateLifetime` setting
                          on the SecretClass issuing the TLS certificate.
                        nullable: true
                        type: string
                      resources:
                        default:
                          cpu:
                            max: null
                            min: null
                          memory:
                            limit: null
                            runtimeLimits: {}
                          storage: {}
                        description: Resource usage is configured here, this includes
                          CPU usage, memory usage and disk storage usage, if this
                          role needs any.
                        properties:
                          cpu:
                            default:
                              max: null
                              min: null
                            properties:
                              max:
                                description: The maximum amount of CPU cores that
                                  can be requested by Pods. Equivalent to the `limit`
                                  for Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                              min:
                                description: The minimal amount of CPU cores that
                                  Pods need to run. Equivalent to the `request` for
                                  Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                            type: object
                          memory:
                            properties:
                              limit:
                                description: 'The maximum amount of memory that should
                                  be available to the Pod. Specified as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                  which means these suffixes are supported: E, P,
                                  T, G, M, k. You can also use the power-of-two equivalents:
                                  Ei, Pi, Ti, Gi, Mi, Ki. For example, the following
                                  represent roughly the same value: `128974848, 129e6,
                                  129M,  128974848000m, 123Mi`'
                                nullable: true
                                type: string
                              runtimeLimits:
                                description: Additional options that can be specified.
                                type: object
                            type: object
                          storage:
                            description: This role does not have any storage settings.
                              Only the Historical role uses disk storage.
                            type: object
                        type: object
                    type: object
                  configOverrides:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      type: object
                    default: {}
                    description: The `configOverrides` can be used to configure properties
                      in product config files that are not exposed in the CRD. Read
                      the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                      and consult the operator specific usage guide documentation
                      for details on the available config files and settings for the
                      specific product.
                    type: object
                  envOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    description: '`envOverrides` configure environment variables to
                      be set in the Pods. It is a map from strings to strings - environment
                      variables and the value to set. Read the [environment variable
                      overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                      for more information and consult the operator specific usage
                      guide to find out about the product specific environment variables
                      that are available.'
                    type: object
                  jvmArgumentOverrides:
                    default:
                      add: []
                      remove: []
                      removeRegex: []
                    description: Allows overriding JVM arguments. Please read on the
                      [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                      for details on the usage.
                    properties:
                      add:
                        default: []
                        description: JVM arguments to be added
                        items:
                          type: string
                        type: array
                      remove:
                        default: []
                        description: JVM arguments to be removed by exact match
                        items:
                          type: string
                        type: array
                      removeRegex:
                        default: []
                        description: JVM arguments matching any of this regexes will
                          be removed
                        items:
                          type: string
                        type: array
                    type: object
                  podOverrides:
                    default: {}
                    description: In the `podOverrides` property you can define a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                      to override any property that can be set on a Kubernetes Pod.
                      Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                      for more information.
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  roleConfig:
                    default:
                      podDisruptionBudget:
                        enabled: true
                        maxUnavailable: null
                    description: This is a product-agnostic RoleConfig, which is sufficient
                      for most of the products.
                    properties:
                      podDisruptionBudget:
                        default:
                          enabled: true
                          maxUnavailable: null
                        description: 'This struct is used to configure:


                          1. If PodDisruptionBudgets are created by the operator 2.
                          The allowed number of Pods to be unavailable (`maxUnavailable`)


                          Learn more in the [allowed Pod disruptions documentation](https://docs.stackable.tech/home/25.3/concepts/operations/pod_disruptions).'
                        properties:
                          enabled:
                            default: true
                            description: Whether a PodDisruptionBudget should be written
                              out for this role. Disabling this enables you to specify
                              your own - custom - one. Defaults to true.
                            type: boolean
                          maxUnavailable:
                            description: The number of Pods that are allowed to be
                              down because of voluntary disruptions. If you don't
                              explicitly set this, the operator will use a sane default
                              based upon knowledge about the individual product.
                            format: uint16
                            minimum: 0.0
                            nullable: true
                            type: integer
                        type: object
                    type: object
                  roleGroups:
                    additionalProperties:
                      properties:
                        cliOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        config:
                          default: {}
                          properties:
                            affinity:
                              default:
                                nodeAffinity: null
                                nodeSelector: null
                                podAffinity: null
                                podAntiAffinity: null
                              description: These configuration settings control [Pod
                                placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                              properties:
                                nodeAffinity:
                                  description: Same as the `spec.affinity.nodeAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: Simple key-value pairs forming a nodeSelector,
                                    see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                podAffinity:
                                  description: Same as the `spec.affinity.podAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                podAntiAffinity:
                                  description: Same as the `spec.affinity.podAntiAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            gracefulShutdownTimeout:
                              description: The time period Pods have to gracefully
                                shut down, e.g. `30m`, `1h` or `2d`. Read more about
                                graceful shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                              nullable: true
                              type: string
                            logging:
                              default:
                                containers: {}
                                enableVectorAgent: null
                              description: Logging configuration, learn more in the
                                [logging concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                              properties:
                                containers:
                                  additionalProperties:
                                    anyOf:
                                    - required:
                                      - custom
                                    - {}
                                    description: Log configuration of the container
                                    properties:
                                      console:
                                        description: Configuration for the console
                                          appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      custom:
                                        description: Custom log configuration provided
                                          in a ConfigMap
                                        properties:
                                          configMap:
                                            description: ConfigMap containing the
                                              log configuration files
                                            nullable: true
                                            type: string
                                        type: object
                                      file:
                                        description: Configuration for the file appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      loggers:
                                        additionalProperties:
                                          description: Configuration of a logger
                                          properties:
                                            level:
                                              description: The log level threshold.
                                                Log events with a lower log level
                                                are discarded.
                                              enum:
                                              - TRACE
                                              - DEBUG
                                              - INFO
                                              - WARN
                                              - ERROR
                                              - FATAL
                                              - NONE
                                              nullable: true
                                              type: string
                                          type: object
                                        default: {}
                                        description: Configuration per logger
                                        type: object
                                    type: object
                                  description: Log configuration per container.
                                  type: object
                                enableVectorAgent:
                                  description: Wether or not to deploy a container
                                    with the Vector log agent.
                                  nullable: true
                                  type: boolean
                              type: object
                            requestedSecretLifetime:
                              description: Request secret (currently only autoTls
                                certificates) lifetime from the secret operator, e.g.
                                `7d`, or `30d`. This can be shortened by the `maxCertificateLifetime`
                                setting on the SecretClass issuing the TLS certificate.
                              nullable: true
                              type: string
                            resources:
                              default:
                                cpu:
                                  max: null
                                  min: null
                                memory:
                                  limit: null
                                  runtimeLimits: {}
                                storage: {}
                              description: Resource usage is configured here, this
                                includes CPU usage, memory usage and disk storage
                                usage, if this role needs any.
                              properties:
                                cpu:
                                  default:
                                    max: null
                                    min: null
                                  properties:
                                    max:
                                      description: The maximum amount of CPU cores
                                        that can be requested by Pods. Equivalent
                                        to the `limit` for Pod resource configuration.
                                        Cores are specified either as a decimal point
                                        number or as milli units. For example:`1.5`
                                        will be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                    min:
                                      description: The minimal amount of CPU cores
                                        that Pods need to run. Equivalent to the `request`
                                        for Pod resource configuration. Cores are
                                        specified either as a decimal point number
                                        or as milli units. For example:`1.5` will
                                        be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                  type: object
                                memory:
                                  properties:
                                    limit:
                                      description: 'The maximum amount of memory that
                                        should be available to the Pod. Specified
                                        as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                        which means these suffixes are supported:
                                        E, P, T, G, M, k. You can also use the power-of-two
                                        equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For example,
                                        the following represent roughly the same value:
                                        `128974848, 129e6, 129M,  128974848000m, 123Mi`'
                                      nullable: true
                                      type: string
                                    runtimeLimits:
                                      description: Additional options that can be
                                        specified.
                                      type: object
                                  type: object
                                storage:
                                  description: This role does not have any storage
                                    settings. Only the Historical role uses disk storage.
                                  type: object
                              type: object
                          type: object
                        configOverrides:
                          additionalProperties:
                            additionalProperties:
                              type: string
                            type: object
                          default: {}
                          description: The `configOverrides` can be used to configure
                            properties in product config files that are not exposed
                            in the CRD. Read the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                            and consult the operator specific usage guide documentation
                            for details on the available config files and settings
                            for the specific product.
                          type: object
                        envOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          description: '`envOverrides` configure environment variables
                            to be set in the Pods. It is a map from strings to strings
                            - environment variables and the value to set. Read the
                            [environment variable overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                            for more information and consult the operator specific
                            usage guide to find out about the product specific environment
                            variables that are available.'
                          type: object
                        jvmArgumentOverrides:
                          default:
                            add: []
                            remove: []
                            removeRegex: []
                          description: Allows overriding JVM arguments. Please read
                            on the [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                            for details on the usage.
                          properties:
                            add:
                              default: []
                              description: JVM arguments to be added
                              items:
                                type: string
                              type: array
                            remove:
                              default: []
                              description: JVM arguments to be removed by exact match
                              items:
                                type: string
                              type: array
                            removeRegex:
                              default: []
                              description: JVM arguments matching any of this regexes
                                will be removed
                              items:
                                type: string
                              type: array
                          type: object
                        podOverrides:
                          default: {}
                          description: In the `podOverrides` property you can define
                            a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                            to override any property that can be set on a Kubernetes
                            Pod. Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                            for more information.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        replicas:
                          format: uint16
                          minimum: 0.0
                          nullable: true
                          type: integer
                      type: object
                    type: object
                required:
                - roleGroups
                type: object
              clusterConfig:
                description: Common cluster wide configuration that can not differ
                  or be overridden on a role or role group level.
                properties:
                  additionalExtensions:
                    default: []
                    description: Additional extensions to load in Druid. The operator
                      will automatically load all extensions needed based on the cluster
                      configuration, but for extra functionality which the operator
                      cannot anticipate, it can sometimes be necessary to load additional
                      extensions. Add configuration for additional extensions using
                      [configuration override for Druid](https://docs.stackable.tech/home/stable/druid/usage-guide/overrides).
                    items:
                      type: string
                    type: array
                  authentication:
                    default: []
                    description: 'List of [AuthenticationClasses](https://docs.stackable.tech/home/25.3/concepts/authentication)
                      to use for authenticating users. TLS, LDAP and OIDC authentication
                      are supported. More information in the [Druid operator security
                      documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/security#_authentication).


                      For TLS: Please note that the SecretClass used to authenticate
                      users needs to be the same as the SecretClass used for internal
                      communication.'
                    items:
                      properties:
                        authenticationClass:
                          description: Name of the [AuthenticationClass](https://docs.stackable.tech/home/nightly/concepts/authentication)
                            used to authenticate users.
                          type: string
                        oidc:
                          description: This field contains OIDC-specific configuration.
                            It is only required in case OIDC is used.
                          nullable: true
                          properties:
                            clientCredentialsSecret:
                              description: A reference to the OIDC client credentials
                                secret. The secret contains the client id and secret.
                              type: string
                            extraScopes:
                              default: []
                              description: An optional list of extra scopes which
                                get merged with the scopes defined in the [`AuthenticationClass`].
                              items:
                                type: string
                              type: array
                          required:
                          - clientCredentialsSecret
                          type: object
                      required:
                      - authenticationClass
                      type: object
                    type: array
                  authorization:
                    description: Authorization settings for Druid like OPA
                    nullable: true
                    properties:
                      opa:
                        description: Configure the OPA stacklet [discovery ConfigMap](https://docs.stackable.tech/home/25.3/concepts/service_discovery)
                          and the name of the Rego package containing your Druid authorization
                          rules. Consult the [OPA authorization documentation](https://docs.stackable.tech/home/25.3/concepts/opa)
                          to learn how to deploy Rego authorization rules with OPA.
                          Read the [Druid operator security documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/security)
                          for more information on how to write rules specifically
                          for Druid.
                        properties:
                          configMapName:
                            description: The [discovery ConfigMap](https://docs.stackable.tech/home/25.3/concepts/service_discovery)
                              for the OPA stacklet that should be used for authorization
                              requests.
                            type: string
                          package:
                            description: The name of the Rego package containing the
                              Rego rules for the product.
                            nullable: true
                            type: string
                        required:
                        - configMapName
                        type: object
                    required:
                    - opa
                    type: object
                  deepStorage:
                    description: '[Druid deep storage configuration](https://docs.stackable.tech/home/25.3/druid/usage-guide/deep-storage).
                      Only one backend can be used at a time. Either HDFS or S3 are
                      supported.'
                    oneOf:
                    - required:
                      - hdfs
                    - required:
                      - s3
                    properties:
                      hdfs:
                        description: '[The HDFS deep storage configuration](https://docs.stackable.tech/home/25.3/druid/usage-guide/deep-storage#_hdfs).
                          You can run an HDFS cluster with the [Stackable operator
                          for Apache HDFS](https://docs.stackable.tech/home/25.3/hdfs/).'
                        properties:
                          configMapName:
                            description: The [discovery ConfigMap](https://docs.stackable.tech/home/25.3/concepts/service_discovery)
                              for the HDFS instance. When running an HDFS cluster
                              with the Stackable operator, the operator will create
                              this ConfigMap for you. It has the same name as your
                              HDFSCluster resource.
                            type: string
                          directory:
                            description: The directory inside of HDFS where Druid
                              should store its data.
                            type: string
                        required:
                        - configMapName
                        - directory
                        type: object
                      s3:
                        description: '[The S3 deep storage configuration](https://docs.stackable.tech/home/25.3/druid/usage-guide/deep-storage#_s3).'
                        properties:
                          baseKey:
                            description: The `baseKey` is similar to the `directory`
                              in HDFS; it is the root key at which Druid will create
                              its deep storage. If no `baseKey` is given, the bucket
                              root will be used.
                            nullable: true
                            type: string
                          bucket:
                            description: The S3 bucket to use for deep storage. Can
                              either be defined inline or as a reference, read the
                              [S3 bucket docs](https://docs.stackable.tech/home/25.3/concepts/s3)
                              to learn more.
                            oneOf:
                            - required:
                              - inline
                            - required:
                              - reference
                            properties:
                              inline:
                                description: S3 bucket specification containing the
                                  bucket name and an inlined or referenced connection
                                  specification. Learn more on the [S3 concept documentation](https://docs.stackable.tech/home/25.3/concepts/s3).
                                properties:
                                  bucketName:
                                    description: The name of the S3 bucket.
                                    type: string
                                  connection:
                                    description: The definition of an S3 connection,
                                      either inline or as a reference.
                                    oneOf:
                                    - required:
                                      - inline
                                    - required:
                                      - reference
                                    properties:
                                      inline:
                                        description: S3 connection definition as a
                                          resource. Learn more on the [S3 concept
                                          documentation](https://docs.stackable.tech/home/25.3/concepts/s3).
                                        properties:
                                          accessStyle:
                                            default: VirtualHosted
                                            description: Which access style to use.
                                              Defaults to virtual hosted-style as
                                              most of the data products out there.
                                              Have a look at the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html).
                                            enum:
                                            - Path
                                            - VirtualHosted
                                            type: string
                                          credentials:
                                            description: If the S3 uses authentication
                                              you have to specify you S3 credentials.
                                              In the most cases a [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                              providing `accessKey` and `secretKey`
                                              is sufficient.
                                            nullable: true
                                            properties:
                                              scope:
                                                description: '[Scope](https://docs.stackable.tech/home/25.3/secret-operator/scope)
                                                  of the [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass).'
                                                nullable: true
                                                properties:
                                                  listenerVolumes:
                                                    default: []
                                                    description: The listener volume
                                                      scope allows Node and Service
                                                      scopes to be inferred from the
                                                      applicable listeners. This must
                                                      correspond to Volume names in
                                                      the Pod that mount Listeners.
                                                    items:
                                                      type: string
                                                    type: array
                                                  node:
                                                    default: false
                                                    description: The node scope is
                                                      resolved to the name of the
                                                      Kubernetes Node object that
                                                      the Pod is running on. This
                                                      will typically be the DNS name
                                                      of the node.
                                                    type: boolean
                                                  pod:
                                                    default: false
                                                    description: The pod scope is
                                                      resolved to the name of the
                                                      Kubernetes Pod. This allows
                                                      the secret to differentiate
                                                      between StatefulSet replicas.
                                                    type: boolean
                                                  services:
                                                    default: []
                                                    description: The service scope
                                                      allows Pod objects to specify
                                                      custom scopes. This should typically
                                                      correspond to Service objects
                                                      that the Pod participates in.
                                                    items:
                                                      type: string
                                                    type: array
                                                type: object
                                              secretClass:
                                                description: '[SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                                  containing the LDAP bind credentials.'
                                                type: string
                                            required:
                                            - secretClass
                                            type: object
                                          host:
                                            description: 'Host of the S3 server without
                                              any protocol or port. For example: `west1.my-cloud.com`.'
                                            type: string
                                          port:
                                            description: Port the S3 server listens
                                              on. If not specified the product will
                                              determine the port to use.
                                            format: uint16
                                            minimum: 0.0
                                            nullable: true
                                            type: integer
                                          region:
                                            default:
                                              name: us-east-1
                                            description: 'Bucket region used for signing
                                              headers (sigv4).


                                              This defaults to `us-east-1` which is
                                              compatible with other implementations
                                              such as Minio.


                                              WARNING: Some products use the Hadoop
                                              S3 implementation which falls back to
                                              us-east-2.'
                                            properties:
                                              name:
                                                default: us-east-1
                                                type: string
                                            type: object
                                          tls:
                                            description: Use a TLS connection. If
                                              not specified no TLS will be used.
                                            nullable: true
                                            properties:
                                              verification:
                                                description: The verification method
                                                  used to verify the certificates
                                                  of the server and/or the client.
                                                oneOf:
                                                - required:
                                                  - none
                                                - required:
                                                  - server
                                                properties:
                                                  none:
                                                    description: Use TLS but don't
                                                      verify certificates.
                                                    type: object
                                                  server:
                                                    description: Use TLS and a CA
                                                      certificate to verify the server.
                                                    properties:
                                                      caCert:
                                                        description: CA cert to verify
                                                          the server.
                                                        oneOf:
                                                        - required:
                                                          - webPki
                                                        - required:
                                                          - secretClass
                                                        properties:
                                                          secretClass:
                                                            description: Name of the
                                                              [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                                              which will provide the
                                                              CA certificate. Note
                                                              that a SecretClass does
                                                              not need to have a key
                                                              but can also work with
                                                              just a CA certificate,
                                                              so if you got provided
                                                              with a CA cert but don't
                                                              have access to the key
                                                              you can still use this
                                                              method.
                                                            type: string
                                                          webPki:
                                                            description: Use TLS and
                                                              the CA certificates
                                                              trusted by the common
                                                              web browsers to verify
                                                              the server. This can
                                                              be useful when you e.g.
                                                              use public AWS S3 or
                                                              other public available
                                                              services.
                                                            type: object
                                                        type: object
                                                    required:
                                                    - caCert
                                                    type: object
                                                type: object
                                            required:
                                            - verification
                                            type: object
                                        required:
                                        - host
                                        type: object
                                      reference:
                                        type: string
                                    type: object
                                required:
                                - bucketName
                                - connection
                                type: object
                              reference:
                                type: string
                            type: object
                        required:
                        - bucket
                        type: object
                    type: object
                  extraVolumes:
                    description: Extra volumes similar to `.spec.volumes` on a Pod
                      to mount into every container, this can be useful to for example
                      make client certificates, keytabs or similar things available
                      to processors. These volumes will be mounted into all pods at
                      `/stackable/userdata/{volumename}`.
                    items:
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    type: array
                  ingestion:
                    description: Configuration properties for data ingestion tasks.
                    nullable: true
                    properties:
                      s3connection:
                        description: Druid supports ingesting data from S3 buckets
                          where the bucket name is specified in the ingestion task.
                          However, the S3 connection has to be specified in advance
                          and only a single S3 connection is supported. S3 connections
                          can either be specified `inline` or as a `reference`. Read
                          the [S3 resource concept docs](https://docs.stackable.tech/home/25.3/concepts/s3)
                          to learn more.
                        nullable: true
                        oneOf:
                        - required:
                          - inline
                        - required:
                          - reference
                        properties:
                          inline:
                            description: S3 connection definition as a resource. Learn
                              more on the [S3 concept documentation](https://docs.stackable.tech/home/25.3/concepts/s3).
                            properties:
                              accessStyle:
                                default: VirtualHosted
                                description: Which access style to use. Defaults to
                                  virtual hosted-style as most of the data products
                                  out there. Have a look at the [AWS documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html).
                                enum:
                                - Path
                                - VirtualHosted
                                type: string
                              credentials:
                                description: If the S3 uses authentication you have
                                  to specify you S3 credentials. In the most cases
                                  a [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                  providing `accessKey` and `secretKey` is sufficient.
                                nullable: true
                                properties:
                                  scope:
                                    description: '[Scope](https://docs.stackable.tech/home/25.3/secret-operator/scope)
                                      of the [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass).'
                                    nullable: true
                                    properties:
                                      listenerVolumes:
                                        default: []
                                        description: The listener volume scope allows
                                          Node and Service scopes to be inferred from
                                          the applicable listeners. This must correspond
                                          to Volume names in the Pod that mount Listeners.
                                        items:
                                          type: string
                                        type: array
                                      node:
                                        default: false
                                        description: The node scope is resolved to
                                          the name of the Kubernetes Node object that
                                          the Pod is running on. This will typically
                                          be the DNS name of the node.
                                        type: boolean
                                      pod:
                                        default: false
                                        description: The pod scope is resolved to
                                          the name of the Kubernetes Pod. This allows
                                          the secret to differentiate between StatefulSet
                                          replicas.
                                        type: boolean
                                      services:
                                        default: []
                                        description: The service scope allows Pod
                                          objects to specify custom scopes. This should
                                          typically correspond to Service objects
                                          that the Pod participates in.
                                        items:
                                          type: string
                                        type: array
                                    type: object
                                  secretClass:
                                    description: '[SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                      containing the LDAP bind credentials.'
                                    type: string
                                required:
                                - secretClass
                                type: object
                              host:
                                description: 'Host of the S3 server without any protocol
                                  or port. For example: `west1.my-cloud.com`.'
                                type: string
                              port:
                                description: Port the S3 server listens on. If not
                                  specified the product will determine the port to
                                  use.
                                format: uint16
                                minimum: 0.0
                                nullable: true
                                type: integer
                              region:
                                default:
                                  name: us-east-1
                                description: 'Bucket region used for signing headers
                                  (sigv4).


                                  This defaults to `us-east-1` which is compatible
                                  with other implementations such as Minio.


                                  WARNING: Some products use the Hadoop S3 implementation
                                  which falls back to us-east-2.'
                                properties:
                                  name:
                                    default: us-east-1
                                    type: string
                                type: object
                              tls:
                                description: Use a TLS connection. If not specified
                                  no TLS will be used.
                                nullable: true
                                properties:
                                  verification:
                                    description: The verification method used to verify
                                      the certificates of the server and/or the client.
                                    oneOf:
                                    - required:
                                      - none
                                    - required:
                                      - server
                                    properties:
                                      none:
                                        description: Use TLS but don't verify certificates.
                                        type: object
                                      server:
                                        description: Use TLS and a CA certificate
                                          to verify the server.
                                        properties:
                                          caCert:
                                            description: CA cert to verify the server.
                                            oneOf:
                                            - required:
                                              - webPki
                                            - required:
                                              - secretClass
                                            properties:
                                              secretClass:
                                                description: Name of the [SecretClass](https://docs.stackable.tech/home/25.3/secret-operator/secretclass)
                                                  which will provide the CA certificate.
                                                  Note that a SecretClass does not
                                                  need to have a key but can also
                                                  work with just a CA certificate,
                                                  so if you got provided with a CA
                                                  cert but don't have access to the
                                                  key you can still use this method.
                                                type: string
                                              webPki:
                                                description: Use TLS and the CA certificates
                                                  trusted by the common web browsers
                                                  to verify the server. This can be
                                                  useful when you e.g. use public
                                                  AWS S3 or other public available
                                                  services.
                                                type: object
                                            type: object
                                        required:
                                        - caCert
                                        type: object
                                    type: object
                                required:
                                - verification
                                type: object
                            required:
                            - host
                            type: object
                          reference:
                            type: string
                        type: object
                    type: object
                  listenerClass:
                    default: cluster-internal
                    description: 'This field controls which type of Service the Operator
                      creates for this DruidCluster:


                      * `cluster-internal`: Use a ClusterIP service * `external-unstable`:
                      Use a NodePort service * `external-stable`: Use a LoadBalancer
                      service


                      This is a temporary solution with the goal to keep yaml manifests
                      forward compatible. In the future, this setting will control
                      which [ListenerClass](https://docs.stackable.tech/home/25.3/listener-operator/listenerclass.html)
                      will be used to expose the service, and ListenerClass names
                      will stay the same, allowing for a non-breaking change.'
                    enum:
                    - cluster-internal
                    - external-unstable
                    - external-stable
                    type: string
                  metadataStorageDatabase:
                    description: Druid requires an SQL database to store metadata
                      into. Specify connection information here.
                    properties:
                      connString:
                        description: 'The connect string for the database, for Postgres
                          this could look like: `jdbc:postgresql://postgresql-druid/druid`'
                        type: string
                      credentialsSecret:
                        description: A reference to a Secret containing the database
                          credentials. The Secret needs to contain the keys `username`
                          and `password`.
                        nullable: true
                        type: string
                      dbType:
                        description: 'The database type. Supported values are: `derby`,
                          `mysql` and `postgres`. Note that a Derby database created
                          locally in the container is not persisted! Derby is not
                          suitable for production use.'
                        enum:
                        - derby
                        - mysql
                        - postgresql
                        type: string
                      host:
                        description: The host, i.e. `postgresql-druid`.
                        type: string
                      port:
                        description: The port, i.e. 5432
                        format: uint16
                        minimum: 0.0
                        type: integer
                    required:
                    - connString
                    - dbType
                    - host
                    - port
                    type: object
                  tls:
                    default:
                      serverAndInternalSecretClass: tls
                    description: TLS encryption settings for Druid, more information
                      in the [security documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/security).
                      This setting only affects server and internal communication.
                      It does not affect client tls authentication, use `clusterConfig.authentication`
                      instead.
                    nullable: true
                    properties:
                      serverAndInternalSecretClass:
                        default: tls
                        description: 'This setting controls client as well as internal
                          tls usage: - If TLS encryption is used at all - Which cert
                          the servers should use to authenticate themselves against
                          the clients - Which cert the servers should use to authenticate
                          themselves among each other'
                        nullable: true
                        type: string
                    type: object
                  vectorAggregatorConfigMapName:
                    description: Name of the Vector aggregator [discovery ConfigMap](https://docs.stackable.tech/home/25.3/concepts/service_discovery).
                      It must contain the key `ADDRESS` with the address of the Vector
                      aggregator. Follow the [logging tutorial](https://docs.stackable.tech/home/25.3/tutorials/logging-vector-aggregator)
                      to learn how to configure log aggregation with Vector.
                    nullable: true
                    type: string
                  zookeeperConfigMapName:
                    description: Druid requires a ZooKeeper cluster connection to
                      run. Provide the name of the ZooKeeper [discovery ConfigMap](https://docs.stackable.tech/home/25.3/concepts/service_discovery)
                      here. When using the [Stackable operator for Apache ZooKeeper](https://docs.stackable.tech/home/25.3/zookeeper/)
                      to deploy a ZooKeeper cluster, this will simply be the name
                      of your ZookeeperCluster resource.
                    type: string
                required:
                - deepStorage
                - metadataStorageDatabase
                - zookeeperConfigMapName
                type: object
              clusterOperation:
                default:
                  reconciliationPaused: false
                  stopped: false
                description: '[Cluster operations](https://docs.stackable.tech/home/25.3/concepts/operations/cluster_operations)
                  properties, allow stopping the product instance as well as pausing
                  reconciliation.'
                properties:
                  reconciliationPaused:
                    default: false
                    description: Flag to stop cluster reconciliation by the operator.
                      This means that all changes in the custom resource spec are
                      ignored until this flag is set to false or removed. The operator
                      will however still watch the deployed resources at the time
                      and update the custom resource status field. If applied at the
                      same time with `stopped`, `reconciliationPaused` will take precedence
                      over `stopped` and stop the reconciliation immediately.
                    type: boolean
                  stopped:
                    default: false
                    description: Flag to stop the cluster. This means all deployed
                      resources (e.g. Services, StatefulSets, ConfigMaps) are kept
                      but all deployed Pods (e.g. replicas from a StatefulSet) are
                      scaled to 0 and therefore stopped and removed. If applied at
                      the same time with `reconciliationPaused`, the latter will pause
                      reconciliation and `stopped` will take no effect until `reconciliationPaused`
                      is set to false or removed.
                    type: boolean
                type: object
              coordinators:
                description: This struct represents a role - e.g. HDFS datanodes or
                  Trino workers. It has a key-value-map containing all the roleGroups
                  that are part of this role. Additionally, there is a `config`, which
                  is configurable at the role *and* roleGroup level. Everything at
                  roleGroup level is merged on top of what is configured on role level.
                  There is also a second form of config, which can only be configured
                  at role level, the `roleConfig`. You can learn more about this in
                  the [Roles and role group concept documentation](https://docs.stackable.tech/home/25.3/concepts/roles-and-role-groups).
                properties:
                  cliOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    type: object
                  config:
                    default: {}
                    properties:
                      affinity:
                        default:
                          nodeAffinity: null
                          nodeSelector: null
                          podAffinity: null
                          podAntiAffinity: null
                        description: These configuration settings control [Pod placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                        properties:
                          nodeAffinity:
                            description: Same as the `spec.affinity.nodeAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: Simple key-value pairs forming a nodeSelector,
                              see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                          podAffinity:
                            description: Same as the `spec.affinity.podAffinity` field
                              on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          podAntiAffinity:
                            description: Same as the `spec.affinity.podAntiAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      gracefulShutdownTimeout:
                        description: The time period Pods have to gracefully shut
                          down, e.g. `30m`, `1h` or `2d`. Read more about graceful
                          shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                        nullable: true
                        type: string
                      logging:
                        default:
                          containers: {}
                          enableVectorAgent: null
                        description: Logging configuration, learn more in the [logging
                          concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                        properties:
                          containers:
                            additionalProperties:
                              anyOf:
                              - required:
                                - custom
                              - {}
                              description: Log configuration of the container
                              properties:
                                console:
                                  description: Configuration for the console appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                custom:
                                  description: Custom log configuration provided in
                                    a ConfigMap
                                  properties:
                                    configMap:
                                      description: ConfigMap containing the log configuration
                                        files
                                      nullable: true
                                      type: string
                                  type: object
                                file:
                                  description: Configuration for the file appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                loggers:
                                  additionalProperties:
                                    description: Configuration of a logger
                                    properties:
                                      level:
                                        description: The log level threshold. Log
                                          events with a lower log level are discarded.
                                        enum:
                                        - TRACE
                                        - DEBUG
                                        - INFO
                                        - WARN
                                        - ERROR
                                        - FATAL
                                        - NONE
                                        nullable: true
                                        type: string
                                    type: object
                                  default: {}
                                  description: Configuration per logger
                                  type: object
                              type: object
                            description: Log configuration per container.
                            type: object
                          enableVectorAgent:
                            description: Wether or not to deploy a container with
                              the Vector log agent.
                            nullable: true
                            type: boolean
                        type: object
                      requestedSecretLifetime:
                        description: Request secret (currently only autoTls certificates)
                          lifetime from the secret operator, e.g. `7d`, or `30d`.
                          This can be shortened by the `maxCertificateLifetime` setting
                          on the SecretClass issuing the TLS certificate.
                        nullable: true
                        type: string
                      resources:
                        default:
                          cpu:
                            max: null
                            min: null
                          memory:
                            limit: null
                            runtimeLimits: {}
                          storage: {}
                        description: Resource usage is configured here, this includes
                          CPU usage, memory usage and disk storage usage, if this
                          role needs any.
                        properties:
                          cpu:
                            default:
                              max: null
                              min: null
                            properties:
                              max:
                                description: The maximum amount of CPU cores that
                                  can be requested by Pods. Equivalent to the `limit`
                                  for Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                              min:
                                description: The minimal amount of CPU cores that
                                  Pods need to run. Equivalent to the `request` for
                                  Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                            type: object
                          memory:
                            properties:
                              limit:
                                description: 'The maximum amount of memory that should
                                  be available to the Pod. Specified as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                  which means these suffixes are supported: E, P,
                                  T, G, M, k. You can also use the power-of-two equivalents:
                                  Ei, Pi, Ti, Gi, Mi, Ki. For example, the following
                                  represent roughly the same value: `128974848, 129e6,
                                  129M,  128974848000m, 123Mi`'
                                nullable: true
                                type: string
                              runtimeLimits:
                                description: Additional options that can be specified.
                                type: object
                            type: object
                          storage:
                            description: This role does not have any storage settings.
                              Only the Historical role uses disk storage.
                            type: object
                        type: object
                    type: object
                  configOverrides:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      type: object
                    default: {}
                    description: The `configOverrides` can be used to configure properties
                      in product config files that are not exposed in the CRD. Read
                      the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                      and consult the operator specific usage guide documentation
                      for details on the available config files and settings for the
                      specific product.
                    type: object
                  envOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    description: '`envOverrides` configure environment variables to
                      be set in the Pods. It is a map from strings to strings - environment
                      variables and the value to set. Read the [environment variable
                      overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                      for more information and consult the operator specific usage
                      guide to find out about the product specific environment variables
                      that are available.'
                    type: object
                  jvmArgumentOverrides:
                    default:
                      add: []
                      remove: []
                      removeRegex: []
                    description: Allows overriding JVM arguments. Please read on the
                      [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                      for details on the usage.
                    properties:
                      add:
                        default: []
                        description: JVM arguments to be added
                        items:
                          type: string
                        type: array
                      remove:
                        default: []
                        description: JVM arguments to be removed by exact match
                        items:
                          type: string
                        type: array
                      removeRegex:
                        default: []
                        description: JVM arguments matching any of this regexes will
                          be removed
                        items:
                          type: string
                        type: array
                    type: object
                  podOverrides:
                    default: {}
                    description: In the `podOverrides` property you can define a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                      to override any property that can be set on a Kubernetes Pod.
                      Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                      for more information.
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  roleConfig:
                    default:
                      podDisruptionBudget:
                        enabled: true
                        maxUnavailable: null
                    description: This is a product-agnostic RoleConfig, which is sufficient
                      for most of the products.
                    properties:
                      podDisruptionBudget:
                        default:
                          enabled: true
                          maxUnavailable: null
                        description: 'This struct is used to configure:


                          1. If PodDisruptionBudgets are created by the operator 2.
                          The allowed number of Pods to be unavailable (`maxUnavailable`)


                          Learn more in the [allowed Pod disruptions documentation](https://docs.stackable.tech/home/25.3/concepts/operations/pod_disruptions).'
                        properties:
                          enabled:
                            default: true
                            description: Whether a PodDisruptionBudget should be written
                              out for this role. Disabling this enables you to specify
                              your own - custom - one. Defaults to true.
                            type: boolean
                          maxUnavailable:
                            description: The number of Pods that are allowed to be
                              down because of voluntary disruptions. If you don't
                              explicitly set this, the operator will use a sane default
                              based upon knowledge about the individual product.
                            format: uint16
                            minimum: 0.0
                            nullable: true
                            type: integer
                        type: object
                    type: object
                  roleGroups:
                    additionalProperties:
                      properties:
                        cliOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        config:
                          default: {}
                          properties:
                            affinity:
                              default:
                                nodeAffinity: null
                                nodeSelector: null
                                podAffinity: null
                                podAntiAffinity: null
                              description: These configuration settings control [Pod
                                placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                              properties:
                                nodeAffinity:
                                  description: Same as the `spec.affinity.nodeAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: Simple key-value pairs forming a nodeSelector,
                                    see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                podAffinity:
                                  description: Same as the `spec.affinity.podAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                podAntiAffinity:
                                  description: Same as the `spec.affinity.podAntiAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            gracefulShutdownTimeout:
                              description: The time period Pods have to gracefully
                                shut down, e.g. `30m`, `1h` or `2d`. Read more about
                                graceful shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                              nullable: true
                              type: string
                            logging:
                              default:
                                containers: {}
                                enableVectorAgent: null
                              description: Logging configuration, learn more in the
                                [logging concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                              properties:
                                containers:
                                  additionalProperties:
                                    anyOf:
                                    - required:
                                      - custom
                                    - {}
                                    description: Log configuration of the container
                                    properties:
                                      console:
                                        description: Configuration for the console
                                          appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      custom:
                                        description: Custom log configuration provided
                                          in a ConfigMap
                                        properties:
                                          configMap:
                                            description: ConfigMap containing the
                                              log configuration files
                                            nullable: true
                                            type: string
                                        type: object
                                      file:
                                        description: Configuration for the file appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      loggers:
                                        additionalProperties:
                                          description: Configuration of a logger
                                          properties:
                                            level:
                                              description: The log level threshold.
                                                Log events with a lower log level
                                                are discarded.
                                              enum:
                                              - TRACE
                                              - DEBUG
                                              - INFO
                                              - WARN
                                              - ERROR
                                              - FATAL
                                              - NONE
                                              nullable: true
                                              type: string
                                          type: object
                                        default: {}
                                        description: Configuration per logger
                                        type: object
                                    type: object
                                  description: Log configuration per container.
                                  type: object
                                enableVectorAgent:
                                  description: Wether or not to deploy a container
                                    with the Vector log agent.
                                  nullable: true
                                  type: boolean
                              type: object
                            requestedSecretLifetime:
                              description: Request secret (currently only autoTls
                                certificates) lifetime from the secret operator, e.g.
                                `7d`, or `30d`. This can be shortened by the `maxCertificateLifetime`
                                setting on the SecretClass issuing the TLS certificate.
                              nullable: true
                              type: string
                            resources:
                              default:
                                cpu:
                                  max: null
                                  min: null
                                memory:
                                  limit: null
                                  runtimeLimits: {}
                                storage: {}
                              description: Resource usage is configured here, this
                                includes CPU usage, memory usage and disk storage
                                usage, if this role needs any.
                              properties:
                                cpu:
                                  default:
                                    max: null
                                    min: null
                                  properties:
                                    max:
                                      description: The maximum amount of CPU cores
                                        that can be requested by Pods. Equivalent
                                        to the `limit` for Pod resource configuration.
                                        Cores are specified either as a decimal point
                                        number or as milli units. For example:`1.5`
                                        will be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                    min:
                                      description: The minimal amount of CPU cores
                                        that Pods need to run. Equivalent to the `request`
                                        for Pod resource configuration. Cores are
                                        specified either as a decimal point number
                                        or as milli units. For example:`1.5` will
                                        be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                  type: object
                                memory:
                                  properties:
                                    limit:
                                      description: 'The maximum amount of memory that
                                        should be available to the Pod. Specified
                                        as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                        which means these suffixes are supported:
                                        E, P, T, G, M, k. You can also use the power-of-two
                                        equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For example,
                                        the following represent roughly the same value:
                                        `128974848, 129e6, 129M,  128974848000m, 123Mi`'
                                      nullable: true
                                      type: string
                                    runtimeLimits:
                                      description: Additional options that can be
                                        specified.
                                      type: object
                                  type: object
                                storage:
                                  description: This role does not have any storage
                                    settings. Only the Historical role uses disk storage.
                                  type: object
                              type: object
                          type: object
                        configOverrides:
                          additionalProperties:
                            additionalProperties:
                              type: string
                            type: object
                          default: {}
                          description: The `configOverrides` can be used to configure
                            properties in product config files that are not exposed
                            in the CRD. Read the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                            and consult the operator specific usage guide documentation
                            for details on the available config files and settings
                            for the specific product.
                          type: object
                        envOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          description: '`envOverrides` configure environment variables
                            to be set in the Pods. It is a map from strings to strings
                            - environment variables and the value to set. Read the
                            [environment variable overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                            for more information and consult the operator specific
                            usage guide to find out about the product specific environment
                            variables that are available.'
                          type: object
                        jvmArgumentOverrides:
                          default:
                            add: []
                            remove: []
                            removeRegex: []
                          description: Allows overriding JVM arguments. Please read
                            on the [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                            for details on the usage.
                          properties:
                            add:
                              default: []
                              description: JVM arguments to be added
                              items:
                                type: string
                              type: array
                            remove:
                              default: []
                              description: JVM arguments to be removed by exact match
                              items:
                                type: string
                              type: array
                            removeRegex:
                              default: []
                              description: JVM arguments matching any of this regexes
                                will be removed
                              items:
                                type: string
                              type: array
                          type: object
                        podOverrides:
                          default: {}
                          description: In the `podOverrides` property you can define
                            a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                            to override any property that can be set on a Kubernetes
                            Pod. Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                            for more information.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        replicas:
                          format: uint16
                          minimum: 0.0
                          nullable: true
                          type: integer
                      type: object
                    type: object
                required:
                - roleGroups
                type: object
              historicals:
                description: This struct represents a role - e.g. HDFS datanodes or
                  Trino workers. It has a key-value-map containing all the roleGroups
                  that are part of this role. Additionally, there is a `config`, which
                  is configurable at the role *and* roleGroup level. Everything at
                  roleGroup level is merged on top of what is configured on role level.
                  There is also a second form of config, which can only be configured
                  at role level, the `roleConfig`. You can learn more about this in
                  the [Roles and role group concept documentation](https://docs.stackable.tech/home/25.3/concepts/roles-and-role-groups).
                properties:
                  cliOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    type: object
                  config:
                    default: {}
                    properties:
                      affinity:
                        default:
                          nodeAffinity: null
                          nodeSelector: null
                          podAffinity: null
                          podAntiAffinity: null
                        description: These configuration settings control [Pod placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                        properties:
                          nodeAffinity:
                            description: Same as the `spec.affinity.nodeAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: Simple key-value pairs forming a nodeSelector,
                              see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                          podAffinity:
                            description: Same as the `spec.affinity.podAffinity` field
                              on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          podAntiAffinity:
                            description: Same as the `spec.affinity.podAntiAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      gracefulShutdownTimeout:
                        description: The time period Pods have to gracefully shut
                          down, e.g. `30m`, `1h` or `2d`. Read more about graceful
                          shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                        nullable: true
                        type: string
                      logging:
                        default:
                          containers: {}
                          enableVectorAgent: null
                        description: Logging configuration, learn more in the [logging
                          concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                        properties:
                          containers:
                            additionalProperties:
                              anyOf:
                              - required:
                                - custom
                              - {}
                              description: Log configuration of the container
                              properties:
                                console:
                                  description: Configuration for the console appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                custom:
                                  description: Custom log configuration provided in
                                    a ConfigMap
                                  properties:
                                    configMap:
                                      description: ConfigMap containing the log configuration
                                        files
                                      nullable: true
                                      type: string
                                  type: object
                                file:
                                  description: Configuration for the file appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                loggers:
                                  additionalProperties:
                                    description: Configuration of a logger
                                    properties:
                                      level:
                                        description: The log level threshold. Log
                                          events with a lower log level are discarded.
                                        enum:
                                        - TRACE
                                        - DEBUG
                                        - INFO
                                        - WARN
                                        - ERROR
                                        - FATAL
                                        - NONE
                                        nullable: true
                                        type: string
                                    type: object
                                  default: {}
                                  description: Configuration per logger
                                  type: object
                              type: object
                            description: Log configuration per container.
                            type: object
                          enableVectorAgent:
                            description: Wether or not to deploy a container with
                              the Vector log agent.
                            nullable: true
                            type: boolean
                        type: object
                      requestedSecretLifetime:
                        description: Request secret (currently only autoTls certificates)
                          lifetime from the secret operator, e.g. `7d`, or `30d`.
                          This can be shortened by the `maxCertificateLifetime` setting
                          on the SecretClass issuing the TLS certificate.
                        nullable: true
                        type: string
                      resources:
                        default:
                          cpu:
                            max: null
                            min: null
                          memory:
                            limit: null
                            runtimeLimits: {}
                          storage:
                            segmentCache:
                              emptyDir:
                                capacity: null
                        description: Resource usage is configured here, this includes
                          CPU usage, memory usage and disk storage usage, if this
                          role needs any.
                        properties:
                          cpu:
                            default:
                              max: null
                              min: null
                            properties:
                              max:
                                description: The maximum amount of CPU cores that
                                  can be requested by Pods. Equivalent to the `limit`
                                  for Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                              min:
                                description: The minimal amount of CPU cores that
                                  Pods need to run. Equivalent to the `request` for
                                  Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                            type: object
                          memory:
                            properties:
                              limit:
                                description: 'The maximum amount of memory that should
                                  be available to the Pod. Specified as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                  which means these suffixes are supported: E, P,
                                  T, G, M, k. You can also use the power-of-two equivalents:
                                  Ei, Pi, Ti, Gi, Mi, Ki. For example, the following
                                  represent roughly the same value: `128974848, 129e6,
                                  129M,  128974848000m, 123Mi`'
                                nullable: true
                                type: string
                              runtimeLimits:
                                description: Additional options that can be specified.
                                type: object
                            type: object
                          storage:
                            description: The storage settings for the Historical process.
                              Read more in the [storage and resource documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/resources-and-storage#_historical_resources).
                            properties:
                              segmentCache:
                                default:
                                  emptyDir:
                                    capacity: null
                                description: Configure the size and backing storage
                                  type of the Druid segment cache.
                                properties:
                                  emptyDir:
                                    default:
                                      capacity: null
                                    description: Configuration settings for the empty
                                      dir volume where the cache is located.
                                    properties:
                                      capacity:
                                        description: 'The size of the empty dir volume.
                                          This size is also configured as the segment
                                          cache size in Druid (minus the freePercentage).
                                          Specified as a [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                          which means these suffixes are supported:
                                          E, P, T, G, M, k. You can also use the power-of-two
                                          equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For
                                          example, the following represent roughly
                                          the same value: 128974848, 129e6, 129M,
                                          128974848000m, 123Mi'
                                        nullable: true
                                        type: string
                                      medium:
                                        description: The `medium` field controls where
                                          the `emptyDir` is stored. By default it
                                          is stored on the default storage backing
                                          the node the Pod is running on. Read more
                                          about [`emptyDir`](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir)
                                          in the Kubernetes documentation.
                                        nullable: true
                                        type: string
                                    type: object
                                  freePercentage:
                                    description: How much of the configured storage
                                      to keep free. Defaults to 5%.
                                    format: uint16
                                    minimum: 0.0
                                    nullable: true
                                    type: integer
                                type: object
                            type: object
                        type: object
                    type: object
                  configOverrides:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      type: object
                    default: {}
                    description: The `configOverrides` can be used to configure properties
                      in product config files that are not exposed in the CRD. Read
                      the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                      and consult the operator specific usage guide documentation
                      for details on the available config files and settings for the
                      specific product.
                    type: object
                  envOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    description: '`envOverrides` configure environment variables to
                      be set in the Pods. It is a map from strings to strings - environment
                      variables and the value to set. Read the [environment variable
                      overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                      for more information and consult the operator specific usage
                      guide to find out about the product specific environment variables
                      that are available.'
                    type: object
                  jvmArgumentOverrides:
                    default:
                      add: []
                      remove: []
                      removeRegex: []
                    description: Allows overriding JVM arguments. Please read on the
                      [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                      for details on the usage.
                    properties:
                      add:
                        default: []
                        description: JVM arguments to be added
                        items:
                          type: string
                        type: array
                      remove:
                        default: []
                        description: JVM arguments to be removed by exact match
                        items:
                          type: string
                        type: array
                      removeRegex:
                        default: []
                        description: JVM arguments matching any of this regexes will
                          be removed
                        items:
                          type: string
                        type: array
                    type: object
                  podOverrides:
                    default: {}
                    description: In the `podOverrides` property you can define a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                      to override any property that can be set on a Kubernetes Pod.
                      Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                      for more information.
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  roleConfig:
                    default:
                      podDisruptionBudget:
                        enabled: true
                        maxUnavailable: null
                    description: This is a product-agnostic RoleConfig, which is sufficient
                      for most of the products.
                    properties:
                      podDisruptionBudget:
                        default:
                          enabled: true
                          maxUnavailable: null
                        description: 'This struct is used to configure:


                          1. If PodDisruptionBudgets are created by the operator 2.
                          The allowed number of Pods to be unavailable (`maxUnavailable`)


                          Learn more in the [allowed Pod disruptions documentation](https://docs.stackable.tech/home/25.3/concepts/operations/pod_disruptions).'
                        properties:
                          enabled:
                            default: true
                            description: Whether a PodDisruptionBudget should be written
                              out for this role. Disabling this enables you to specify
                              your own - custom - one. Defaults to true.
                            type: boolean
                          maxUnavailable:
                            description: The number of Pods that are allowed to be
                              down because of voluntary disruptions. If you don't
                              explicitly set this, the operator will use a sane default
                              based upon knowledge about the individual product.
                            format: uint16
                            minimum: 0.0
                            nullable: true
                            type: integer
                        type: object
                    type: object
                  roleGroups:
                    additionalProperties:
                      properties:
                        cliOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        config:
                          default: {}
                          properties:
                            affinity:
                              default:
                                nodeAffinity: null
                                nodeSelector: null
                                podAffinity: null
                                podAntiAffinity: null
                              description: These configuration settings control [Pod
                                placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                              properties:
                                nodeAffinity:
                                  description: Same as the `spec.affinity.nodeAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: Simple key-value pairs forming a nodeSelector,
                                    see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                podAffinity:
                                  description: Same as the `spec.affinity.podAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                podAntiAffinity:
                                  description: Same as the `spec.affinity.podAntiAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            gracefulShutdownTimeout:
                              description: The time period Pods have to gracefully
                                shut down, e.g. `30m`, `1h` or `2d`. Read more about
                                graceful shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                              nullable: true
                              type: string
                            logging:
                              default:
                                containers: {}
                                enableVectorAgent: null
                              description: Logging configuration, learn more in the
                                [logging concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                              properties:
                                containers:
                                  additionalProperties:
                                    anyOf:
                                    - required:
                                      - custom
                                    - {}
                                    description: Log configuration of the container
                                    properties:
                                      console:
                                        description: Configuration for the console
                                          appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      custom:
                                        description: Custom log configuration provided
                                          in a ConfigMap
                                        properties:
                                          configMap:
                                            description: ConfigMap containing the
                                              log configuration files
                                            nullable: true
                                            type: string
                                        type: object
                                      file:
                                        description: Configuration for the file appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      loggers:
                                        additionalProperties:
                                          description: Configuration of a logger
                                          properties:
                                            level:
                                              description: The log level threshold.
                                                Log events with a lower log level
                                                are discarded.
                                              enum:
                                              - TRACE
                                              - DEBUG
                                              - INFO
                                              - WARN
                                              - ERROR
                                              - FATAL
                                              - NONE
                                              nullable: true
                                              type: string
                                          type: object
                                        default: {}
                                        description: Configuration per logger
                                        type: object
                                    type: object
                                  description: Log configuration per container.
                                  type: object
                                enableVectorAgent:
                                  description: Wether or not to deploy a container
                                    with the Vector log agent.
                                  nullable: true
                                  type: boolean
                              type: object
                            requestedSecretLifetime:
                              description: Request secret (currently only autoTls
                                certificates) lifetime from the secret operator, e.g.
                                `7d`, or `30d`. This can be shortened by the `maxCertificateLifetime`
                                setting on the SecretClass issuing the TLS certificate.
                              nullable: true
                              type: string
                            resources:
                              default:
                                cpu:
                                  max: null
                                  min: null
                                memory:
                                  limit: null
                                  runtimeLimits: {}
                                storage:
                                  segmentCache:
                                    emptyDir:
                                      capacity: null
                              description: Resource usage is configured here, this
                                includes CPU usage, memory usage and disk storage
                                usage, if this role needs any.
                              properties:
                                cpu:
                                  default:
                                    max: null
                                    min: null
                                  properties:
                                    max:
                                      description: The maximum amount of CPU cores
                                        that can be requested by Pods. Equivalent
                                        to the `limit` for Pod resource configuration.
                                        Cores are specified either as a decimal point
                                        number or as milli units. For example:`1.5`
                                        will be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                    min:
                                      description: The minimal amount of CPU cores
                                        that Pods need to run. Equivalent to the `request`
                                        for Pod resource configuration. Cores are
                                        specified either as a decimal point number
                                        or as milli units. For example:`1.5` will
                                        be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                  type: object
                                memory:
                                  properties:
                                    limit:
                                      description: 'The maximum amount of memory that
                                        should be available to the Pod. Specified
                                        as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                        which means these suffixes are supported:
                                        E, P, T, G, M, k. You can also use the power-of-two
                                        equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For example,
                                        the following represent roughly the same value:
                                        `128974848, 129e6, 129M,  128974848000m, 123Mi`'
                                      nullable: true
                                      type: string
                                    runtimeLimits:
                                      description: Additional options that can be
                                        specified.
                                      type: object
                                  type: object
                                storage:
                                  description: The storage settings for the Historical
                                    process. Read more in the [storage and resource
                                    documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/resources-and-storage#_historical_resources).
                                  properties:
                                    segmentCache:
                                      default:
                                        emptyDir:
                                          capacity: null
                                      description: Configure the size and backing
                                        storage type of the Druid segment cache.
                                      properties:
                                        emptyDir:
                                          default:
                                            capacity: null
                                          description: Configuration settings for
                                            the empty dir volume where the cache is
                                            located.
                                          properties:
                                            capacity:
                                              description: 'The size of the empty
                                                dir volume. This size is also configured
                                                as the segment cache size in Druid
                                                (minus the freePercentage). Specified
                                                as a [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                                which means these suffixes are supported:
                                                E, P, T, G, M, k. You can also use
                                                the power-of-two equivalents: Ei,
                                                Pi, Ti, Gi, Mi, Ki. For example, the
                                                following represent roughly the same
                                                value: 128974848, 129e6, 129M, 128974848000m,
                                                123Mi'
                                              nullable: true
                                              type: string
                                            medium:
                                              description: The `medium` field controls
                                                where the `emptyDir` is stored. By
                                                default it is stored on the default
                                                storage backing the node the Pod is
                                                running on. Read more about [`emptyDir`](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir)
                                                in the Kubernetes documentation.
                                              nullable: true
                                              type: string
                                          type: object
                                        freePercentage:
                                          description: How much of the configured
                                            storage to keep free. Defaults to 5%.
                                          format: uint16
                                          minimum: 0.0
                                          nullable: true
                                          type: integer
                                      type: object
                                  type: object
                              type: object
                          type: object
                        configOverrides:
                          additionalProperties:
                            additionalProperties:
                              type: string
                            type: object
                          default: {}
                          description: The `configOverrides` can be used to configure
                            properties in product config files that are not exposed
                            in the CRD. Read the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                            and consult the operator specific usage guide documentation
                            for details on the available config files and settings
                            for the specific product.
                          type: object
                        envOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          description: '`envOverrides` configure environment variables
                            to be set in the Pods. It is a map from strings to strings
                            - environment variables and the value to set. Read the
                            [environment variable overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                            for more information and consult the operator specific
                            usage guide to find out about the product specific environment
                            variables that are available.'
                          type: object
                        jvmArgumentOverrides:
                          default:
                            add: []
                            remove: []
                            removeRegex: []
                          description: Allows overriding JVM arguments. Please read
                            on the [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                            for details on the usage.
                          properties:
                            add:
                              default: []
                              description: JVM arguments to be added
                              items:
                                type: string
                              type: array
                            remove:
                              default: []
                              description: JVM arguments to be removed by exact match
                              items:
                                type: string
                              type: array
                            removeRegex:
                              default: []
                              description: JVM arguments matching any of this regexes
                                will be removed
                              items:
                                type: string
                              type: array
                          type: object
                        podOverrides:
                          default: {}
                          description: In the `podOverrides` property you can define
                            a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                            to override any property that can be set on a Kubernetes
                            Pod. Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                            for more information.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        replicas:
                          format: uint16
                          minimum: 0.0
                          nullable: true
                          type: integer
                      type: object
                    type: object
                required:
                - roleGroups
                type: object
              image:
                anyOf:
                - required:
                  - custom
                  - productVersion
                - required:
                  - productVersion
                description: 'Specify which image to use, the easiest way is to only
                  configure the `productVersion`. You can also configure a custom
                  image registry to pull from, as well as completely custom images.


                  Consult the [Product image selection documentation](https://docs.stackable.tech/home/25.3/concepts/product_image_selection)
                  for details.'
                properties:
                  custom:
                    description: Overwrite the docker image. Specify the full docker
                      image name, e.g. `oci.stackable.tech/sdp/superset:1.4.1-stackable2.1.0`
                    type: string
                  productVersion:
                    description: Version of the product, e.g. `1.4.1`.
                    type: string
                  pullPolicy:
                    default: Always
                    description: '[Pull policy](https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy)
                      used when pulling the image.'
                    enum:
                    - IfNotPresent
                    - Always
                    - Never
                    type: string
                  pullSecrets:
                    description: '[Image pull secrets](https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod)
                      to pull images from a private registry.'
                    items:
                      description: LocalObjectReference contains enough information
                        to let you locate the referenced object inside the same namespace.
                      properties:
                        name:
                          description: 'Name of the referent. This field is effectively
                            required, but due to backwards compatibility is allowed
                            to be empty. Instances of this type with an empty value
                            here are almost certainly wrong. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                          type: string
                      required:
                      - name
                      type: object
                    nullable: true
                    type: array
                  repo:
                    description: Name of the docker repo, e.g. `oci.stackable.tech/sdp`
                    nullable: true
                    type: string
                  stackableVersion:
                    description: Stackable version of the product, e.g. `23.4`, `23.4.1`
                      or `0.0.0-dev`. If not specified, the operator will use its
                      own version, e.g. `23.4.1`. When using a nightly operator or
                      a pr version, it will use the nightly `0.0.0-dev` image.
                    nullable: true
                    type: string
                type: object
              middleManagers:
                description: This struct represents a role - e.g. HDFS datanodes or
                  Trino workers. It has a key-value-map containing all the roleGroups
                  that are part of this role. Additionally, there is a `config`, which
                  is configurable at the role *and* roleGroup level. Everything at
                  roleGroup level is merged on top of what is configured on role level.
                  There is also a second form of config, which can only be configured
                  at role level, the `roleConfig`. You can learn more about this in
                  the [Roles and role group concept documentation](https://docs.stackable.tech/home/25.3/concepts/roles-and-role-groups).
                properties:
                  cliOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    type: object
                  config:
                    default: {}
                    properties:
                      affinity:
                        default:
                          nodeAffinity: null
                          nodeSelector: null
                          podAffinity: null
                          podAntiAffinity: null
                        description: These configuration settings control [Pod placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                        properties:
                          nodeAffinity:
                            description: Same as the `spec.affinity.nodeAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: Simple key-value pairs forming a nodeSelector,
                              see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                          podAffinity:
                            description: Same as the `spec.affinity.podAffinity` field
                              on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          podAntiAffinity:
                            description: Same as the `spec.affinity.podAntiAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      gracefulShutdownTimeout:
                        description: The time period Pods have to gracefully shut
                          down, e.g. `30m`, `1h` or `2d`. Read more about graceful
                          shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                        nullable: true
                        type: string
                      logging:
                        default:
                          containers: {}
                          enableVectorAgent: null
                        description: Logging configuration, learn more in the [logging
                          concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                        properties:
                          containers:
                            additionalProperties:
                              anyOf:
                              - required:
                                - custom
                              - {}
                              description: Log configuration of the container
                              properties:
                                console:
                                  description: Configuration for the console appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                custom:
                                  description: Custom log configuration provided in
                                    a ConfigMap
                                  properties:
                                    configMap:
                                      description: ConfigMap containing the log configuration
                                        files
                                      nullable: true
                                      type: string
                                  type: object
                                file:
                                  description: Configuration for the file appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                loggers:
                                  additionalProperties:
                                    description: Configuration of a logger
                                    properties:
                                      level:
                                        description: The log level threshold. Log
                                          events with a lower log level are discarded.
                                        enum:
                                        - TRACE
                                        - DEBUG
                                        - INFO
                                        - WARN
                                        - ERROR
                                        - FATAL
                                        - NONE
                                        nullable: true
                                        type: string
                                    type: object
                                  default: {}
                                  description: Configuration per logger
                                  type: object
                              type: object
                            description: Log configuration per container.
                            type: object
                          enableVectorAgent:
                            description: Wether or not to deploy a container with
                              the Vector log agent.
                            nullable: true
                            type: boolean
                        type: object
                      requestedSecretLifetime:
                        description: Request secret (currently only autoTls certificates)
                          lifetime from the secret operator, e.g. `7d`, or `30d`.
                          This can be shortened by the `maxCertificateLifetime` setting
                          on the SecretClass issuing the TLS certificate.
                        nullable: true
                        type: string
                      resources:
                        default:
                          cpu:
                            max: null
                            min: null
                          memory:
                            limit: null
                            runtimeLimits: {}
                          storage: {}
                        description: Resource usage is configured here, this includes
                          CPU usage, memory usage and disk storage usage, if this
                          role needs any.
                        properties:
                          cpu:
                            default:
                              max: null
                              min: null
                            properties:
                              max:
                                description: The maximum amount of CPU cores that
                                  can be requested by Pods. Equivalent to the `limit`
                                  for Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                              min:
                                description: The minimal amount of CPU cores that
                                  Pods need to run. Equivalent to the `request` for
                                  Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                            type: object
                          memory:
                            properties:
                              limit:
                                description: 'The maximum amount of memory that should
                                  be available to the Pod. Specified as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                  which means these suffixes are supported: E, P,
                                  T, G, M, k. You can also use the power-of-two equivalents:
                                  Ei, Pi, Ti, Gi, Mi, Ki. For example, the following
                                  represent roughly the same value: `128974848, 129e6,
                                  129M,  128974848000m, 123Mi`'
                                nullable: true
                                type: string
                              runtimeLimits:
                                description: Additional options that can be specified.
                                type: object
                            type: object
                          storage:
                            description: This role does not have any storage settings.
                              Only the Historical role uses disk storage.
                            type: object
                        type: object
                    type: object
                  configOverrides:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      type: object
                    default: {}
                    description: The `configOverrides` can be used to configure properties
                      in product config files that are not exposed in the CRD. Read
                      the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                      and consult the operator specific usage guide documentation
                      for details on the available config files and settings for the
                      specific product.
                    type: object
                  envOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    description: '`envOverrides` configure environment variables to
                      be set in the Pods. It is a map from strings to strings - environment
                      variables and the value to set. Read the [environment variable
                      overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                      for more information and consult the operator specific usage
                      guide to find out about the product specific environment variables
                      that are available.'
                    type: object
                  jvmArgumentOverrides:
                    default:
                      add: []
                      remove: []
                      removeRegex: []
                    description: Allows overriding JVM arguments. Please read on the
                      [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                      for details on the usage.
                    properties:
                      add:
                        default: []
                        description: JVM arguments to be added
                        items:
                          type: string
                        type: array
                      remove:
                        default: []
                        description: JVM arguments to be removed by exact match
                        items:
                          type: string
                        type: array
                      removeRegex:
                        default: []
                        description: JVM arguments matching any of this regexes will
                          be removed
                        items:
                          type: string
                        type: array
                    type: object
                  podOverrides:
                    default: {}
                    description: In the `podOverrides` property you can define a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                      to override any property that can be set on a Kubernetes Pod.
                      Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                      for more information.
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  roleConfig:
                    default:
                      podDisruptionBudget:
                        enabled: true
                        maxUnavailable: null
                    description: This is a product-agnostic RoleConfig, which is sufficient
                      for most of the products.
                    properties:
                      podDisruptionBudget:
                        default:
                          enabled: true
                          maxUnavailable: null
                        description: 'This struct is used to configure:


                          1. If PodDisruptionBudgets are created by the operator 2.
                          The allowed number of Pods to be unavailable (`maxUnavailable`)


                          Learn more in the [allowed Pod disruptions documentation](https://docs.stackable.tech/home/25.3/concepts/operations/pod_disruptions).'
                        properties:
                          enabled:
                            default: true
                            description: Whether a PodDisruptionBudget should be written
                              out for this role. Disabling this enables you to specify
                              your own - custom - one. Defaults to true.
                            type: boolean
                          maxUnavailable:
                            description: The number of Pods that are allowed to be
                              down because of voluntary disruptions. If you don't
                              explicitly set this, the operator will use a sane default
                              based upon knowledge about the individual product.
                            format: uint16
                            minimum: 0.0
                            nullable: true
                            type: integer
                        type: object
                    type: object
                  roleGroups:
                    additionalProperties:
                      properties:
                        cliOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        config:
                          default: {}
                          properties:
                            affinity:
                              default:
                                nodeAffinity: null
                                nodeSelector: null
                                podAffinity: null
                                podAntiAffinity: null
                              description: These configuration settings control [Pod
                                placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                              properties:
                                nodeAffinity:
                                  description: Same as the `spec.affinity.nodeAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: Simple key-value pairs forming a nodeSelector,
                                    see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                podAffinity:
                                  description: Same as the `spec.affinity.podAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                podAntiAffinity:
                                  description: Same as the `spec.affinity.podAntiAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            gracefulShutdownTimeout:
                              description: The time period Pods have to gracefully
                                shut down, e.g. `30m`, `1h` or `2d`. Read more about
                                graceful shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                              nullable: true
                              type: string
                            logging:
                              default:
                                containers: {}
                                enableVectorAgent: null
                              description: Logging configuration, learn more in the
                                [logging concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                              properties:
                                containers:
                                  additionalProperties:
                                    anyOf:
                                    - required:
                                      - custom
                                    - {}
                                    description: Log configuration of the container
                                    properties:
                                      console:
                                        description: Configuration for the console
                                          appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      custom:
                                        description: Custom log configuration provided
                                          in a ConfigMap
                                        properties:
                                          configMap:
                                            description: ConfigMap containing the
                                              log configuration files
                                            nullable: true
                                            type: string
                                        type: object
                                      file:
                                        description: Configuration for the file appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      loggers:
                                        additionalProperties:
                                          description: Configuration of a logger
                                          properties:
                                            level:
                                              description: The log level threshold.
                                                Log events with a lower log level
                                                are discarded.
                                              enum:
                                              - TRACE
                                              - DEBUG
                                              - INFO
                                              - WARN
                                              - ERROR
                                              - FATAL
                                              - NONE
                                              nullable: true
                                              type: string
                                          type: object
                                        default: {}
                                        description: Configuration per logger
                                        type: object
                                    type: object
                                  description: Log configuration per container.
                                  type: object
                                enableVectorAgent:
                                  description: Wether or not to deploy a container
                                    with the Vector log agent.
                                  nullable: true
                                  type: boolean
                              type: object
                            requestedSecretLifetime:
                              description: Request secret (currently only autoTls
                                certificates) lifetime from the secret operator, e.g.
                                `7d`, or `30d`. This can be shortened by the `maxCertificateLifetime`
                                setting on the SecretClass issuing the TLS certificate.
                              nullable: true
                              type: string
                            resources:
                              default:
                                cpu:
                                  max: null
                                  min: null
                                memory:
                                  limit: null
                                  runtimeLimits: {}
                                storage: {}
                              description: Resource usage is configured here, this
                                includes CPU usage, memory usage and disk storage
                                usage, if this role needs any.
                              properties:
                                cpu:
                                  default:
                                    max: null
                                    min: null
                                  properties:
                                    max:
                                      description: The maximum amount of CPU cores
                                        that can be requested by Pods. Equivalent
                                        to the `limit` for Pod resource configuration.
                                        Cores are specified either as a decimal point
                                        number or as milli units. For example:`1.5`
                                        will be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                    min:
                                      description: The minimal amount of CPU cores
                                        that Pods need to run. Equivalent to the `request`
                                        for Pod resource configuration. Cores are
                                        specified either as a decimal point number
                                        or as milli units. For example:`1.5` will
                                        be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                  type: object
                                memory:
                                  properties:
                                    limit:
                                      description: 'The maximum amount of memory that
                                        should be available to the Pod. Specified
                                        as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                        which means these suffixes are supported:
                                        E, P, T, G, M, k. You can also use the power-of-two
                                        equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For example,
                                        the following represent roughly the same value:
                                        `128974848, 129e6, 129M,  128974848000m, 123Mi`'
                                      nullable: true
                                      type: string
                                    runtimeLimits:
                                      description: Additional options that can be
                                        specified.
                                      type: object
                                  type: object
                                storage:
                                  description: This role does not have any storage
                                    settings. Only the Historical role uses disk storage.
                                  type: object
                              type: object
                          type: object
                        configOverrides:
                          additionalProperties:
                            additionalProperties:
                              type: string
                            type: object
                          default: {}
                          description: The `configOverrides` can be used to configure
                            properties in product config files that are not exposed
                            in the CRD. Read the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                            and consult the operator specific usage guide documentation
                            for details on the available config files and settings
                            for the specific product.
                          type: object
                        envOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          description: '`envOverrides` configure environment variables
                            to be set in the Pods. It is a map from strings to strings
                            - environment variables and the value to set. Read the
                            [environment variable overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                            for more information and consult the operator specific
                            usage guide to find out about the product specific environment
                            variables that are available.'
                          type: object
                        jvmArgumentOverrides:
                          default:
                            add: []
                            remove: []
                            removeRegex: []
                          description: Allows overriding JVM arguments. Please read
                            on the [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                            for details on the usage.
                          properties:
                            add:
                              default: []
                              description: JVM arguments to be added
                              items:
                                type: string
                              type: array
                            remove:
                              default: []
                              description: JVM arguments to be removed by exact match
                              items:
                                type: string
                              type: array
                            removeRegex:
                              default: []
                              description: JVM arguments matching any of this regexes
                                will be removed
                              items:
                                type: string
                              type: array
                          type: object
                        podOverrides:
                          default: {}
                          description: In the `podOverrides` property you can define
                            a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                            to override any property that can be set on a Kubernetes
                            Pod. Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                            for more information.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        replicas:
                          format: uint16
                          minimum: 0.0
                          nullable: true
                          type: integer
                      type: object
                    type: object
                required:
                - roleGroups
                type: object
              routers:
                description: This struct represents a role - e.g. HDFS datanodes or
                  Trino workers. It has a key-value-map containing all the roleGroups
                  that are part of this role. Additionally, there is a `config`, which
                  is configurable at the role *and* roleGroup level. Everything at
                  roleGroup level is merged on top of what is configured on role level.
                  There is also a second form of config, which can only be configured
                  at role level, the `roleConfig`. You can learn more about this in
                  the [Roles and role group concept documentation](https://docs.stackable.tech/home/25.3/concepts/roles-and-role-groups).
                properties:
                  cliOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    type: object
                  config:
                    default: {}
                    properties:
                      affinity:
                        default:
                          nodeAffinity: null
                          nodeSelector: null
                          podAffinity: null
                          podAntiAffinity: null
                        description: These configuration settings control [Pod placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                        properties:
                          nodeAffinity:
                            description: Same as the `spec.affinity.nodeAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          nodeSelector:
                            additionalProperties:
                              type: string
                            description: Simple key-value pairs forming a nodeSelector,
                              see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                          podAffinity:
                            description: Same as the `spec.affinity.podAffinity` field
                              on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          podAntiAffinity:
                            description: Same as the `spec.affinity.podAntiAffinity`
                              field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                            nullable: true
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      gracefulShutdownTimeout:
                        description: The time period Pods have to gracefully shut
                          down, e.g. `30m`, `1h` or `2d`. Read more about graceful
                          shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                        nullable: true
                        type: string
                      logging:
                        default:
                          containers: {}
                          enableVectorAgent: null
                        description: Logging configuration, learn more in the [logging
                          concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                        properties:
                          containers:
                            additionalProperties:
                              anyOf:
                              - required:
                                - custom
                              - {}
                              description: Log configuration of the container
                              properties:
                                console:
                                  description: Configuration for the console appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                custom:
                                  description: Custom log configuration provided in
                                    a ConfigMap
                                  properties:
                                    configMap:
                                      description: ConfigMap containing the log configuration
                                        files
                                      nullable: true
                                      type: string
                                  type: object
                                file:
                                  description: Configuration for the file appender
                                  nullable: true
                                  properties:
                                    level:
                                      description: The log level threshold. Log events
                                        with a lower log level are discarded.
                                      enum:
                                      - TRACE
                                      - DEBUG
                                      - INFO
                                      - WARN
                                      - ERROR
                                      - FATAL
                                      - NONE
                                      nullable: true
                                      type: string
                                  type: object
                                loggers:
                                  additionalProperties:
                                    description: Configuration of a logger
                                    properties:
                                      level:
                                        description: The log level threshold. Log
                                          events with a lower log level are discarded.
                                        enum:
                                        - TRACE
                                        - DEBUG
                                        - INFO
                                        - WARN
                                        - ERROR
                                        - FATAL
                                        - NONE
                                        nullable: true
                                        type: string
                                    type: object
                                  default: {}
                                  description: Configuration per logger
                                  type: object
                              type: object
                            description: Log configuration per container.
                            type: object
                          enableVectorAgent:
                            description: Wether or not to deploy a container with
                              the Vector log agent.
                            nullable: true
                            type: boolean
                        type: object
                      requestedSecretLifetime:
                        description: Request secret (currently only autoTls certificates)
                          lifetime from the secret operator, e.g. `7d`, or `30d`.
                          This can be shortened by the `maxCertificateLifetime` setting
                          on the SecretClass issuing the TLS certificate.
                        nullable: true
                        type: string
                      resources:
                        default:
                          cpu:
                            max: null
                            min: null
                          memory:
                            limit: null
                            runtimeLimits: {}
                          storage: {}
                        description: Resource usage is configured here, this includes
                          CPU usage, memory usage and disk storage usage, if this
                          role needs any.
                        properties:
                          cpu:
                            default:
                              max: null
                              min: null
                            properties:
                              max:
                                description: The maximum amount of CPU cores that
                                  can be requested by Pods. Equivalent to the `limit`
                                  for Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                              min:
                                description: The minimal amount of CPU cores that
                                  Pods need to run. Equivalent to the `request` for
                                  Pod resource configuration. Cores are specified
                                  either as a decimal point number or as milli units.
                                  For example:`1.5` will be 1.5 cores, also written
                                  as `1500m`.
                                nullable: true
                                type: string
                            type: object
                          memory:
                            properties:
                              limit:
                                description: 'The maximum amount of memory that should
                                  be available to the Pod. Specified as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                  which means these suffixes are supported: E, P,
                                  T, G, M, k. You can also use the power-of-two equivalents:
                                  Ei, Pi, Ti, Gi, Mi, Ki. For example, the following
                                  represent roughly the same value: `128974848, 129e6,
                                  129M,  128974848000m, 123Mi`'
                                nullable: true
                                type: string
                              runtimeLimits:
                                description: Additional options that can be specified.
                                type: object
                            type: object
                          storage:
                            description: This role does not have any storage settings.
                              Only the Historical role uses disk storage.
                            type: object
                        type: object
                    type: object
                  configOverrides:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      type: object
                    default: {}
                    description: The `configOverrides` can be used to configure properties
                      in product config files that are not exposed in the CRD. Read
                      the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                      and consult the operator specific usage guide documentation
                      for details on the available config files and settings for the
                      specific product.
                    type: object
                  envOverrides:
                    additionalProperties:
                      type: string
                    default: {}
                    description: '`envOverrides` configure environment variables to
                      be set in the Pods. It is a map from strings to strings - environment
                      variables and the value to set. Read the [environment variable
                      overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                      for more information and consult the operator specific usage
                      guide to find out about the product specific environment variables
                      that are available.'
                    type: object
                  jvmArgumentOverrides:
                    default:
                      add: []
                      remove: []
                      removeRegex: []
                    description: Allows overriding JVM arguments. Please read on the
                      [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                      for details on the usage.
                    properties:
                      add:
                        default: []
                        description: JVM arguments to be added
                        items:
                          type: string
                        type: array
                      remove:
                        default: []
                        description: JVM arguments to be removed by exact match
                        items:
                          type: string
                        type: array
                      removeRegex:
                        default: []
                        description: JVM arguments matching any of this regexes will
                          be removed
                        items:
                          type: string
                        type: array
                    type: object
                  podOverrides:
                    default: {}
                    description: In the `podOverrides` property you can define a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                      to override any property that can be set on a Kubernetes Pod.
                      Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                      for more information.
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  roleConfig:
                    default:
                      podDisruptionBudget:
                        enabled: true
                        maxUnavailable: null
                    description: This is a product-agnostic RoleConfig, which is sufficient
                      for most of the products.
                    properties:
                      podDisruptionBudget:
                        default:
                          enabled: true
                          maxUnavailable: null
                        description: 'This struct is used to configure:


                          1. If PodDisruptionBudgets are created by the operator 2.
                          The allowed number of Pods to be unavailable (`maxUnavailable`)


                          Learn more in the [allowed Pod disruptions documentation](https://docs.stackable.tech/home/25.3/concepts/operations/pod_disruptions).'
                        properties:
                          enabled:
                            default: true
                            description: Whether a PodDisruptionBudget should be written
                              out for this role. Disabling this enables you to specify
                              your own - custom - one. Defaults to true.
                            type: boolean
                          maxUnavailable:
                            description: The number of Pods that are allowed to be
                              down because of voluntary disruptions. If you don't
                              explicitly set this, the operator will use a sane default
                              based upon knowledge about the individual product.
                            format: uint16
                            minimum: 0.0
                            nullable: true
                            type: integer
                        type: object
                    type: object
                  roleGroups:
                    additionalProperties:
                      properties:
                        cliOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          type: object
                        config:
                          default: {}
                          properties:
                            affinity:
                              default:
                                nodeAffinity: null
                                nodeSelector: null
                                podAffinity: null
                                podAntiAffinity: null
                              description: These configuration settings control [Pod
                                placement](https://docs.stackable.tech/home/25.3/concepts/operations/pod_placement).
                              properties:
                                nodeAffinity:
                                  description: Same as the `spec.affinity.nodeAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: Simple key-value pairs forming a nodeSelector,
                                    see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                podAffinity:
                                  description: Same as the `spec.affinity.podAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                podAntiAffinity:
                                  description: Same as the `spec.affinity.podAntiAffinity`
                                    field on the Pod, see the [Kubernetes docs](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node)
                                  nullable: true
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            gracefulShutdownTimeout:
                              description: The time period Pods have to gracefully
                                shut down, e.g. `30m`, `1h` or `2d`. Read more about
                                graceful shutdown in the [graceful shutdown documentation](https://docs.stackable.tech/home/25.3/druid/usage-guide/operations/graceful-shutdown).
                              nullable: true
                              type: string
                            logging:
                              default:
                                containers: {}
                                enableVectorAgent: null
                              description: Logging configuration, learn more in the
                                [logging concept documentation](https://docs.stackable.tech/home/25.3/concepts/logging).
                              properties:
                                containers:
                                  additionalProperties:
                                    anyOf:
                                    - required:
                                      - custom
                                    - {}
                                    description: Log configuration of the container
                                    properties:
                                      console:
                                        description: Configuration for the console
                                          appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      custom:
                                        description: Custom log configuration provided
                                          in a ConfigMap
                                        properties:
                                          configMap:
                                            description: ConfigMap containing the
                                              log configuration files
                                            nullable: true
                                            type: string
                                        type: object
                                      file:
                                        description: Configuration for the file appender
                                        nullable: true
                                        properties:
                                          level:
                                            description: The log level threshold.
                                              Log events with a lower log level are
                                              discarded.
                                            enum:
                                            - TRACE
                                            - DEBUG
                                            - INFO
                                            - WARN
                                            - ERROR
                                            - FATAL
                                            - NONE
                                            nullable: true
                                            type: string
                                        type: object
                                      loggers:
                                        additionalProperties:
                                          description: Configuration of a logger
                                          properties:
                                            level:
                                              description: The log level threshold.
                                                Log events with a lower log level
                                                are discarded.
                                              enum:
                                              - TRACE
                                              - DEBUG
                                              - INFO
                                              - WARN
                                              - ERROR
                                              - FATAL
                                              - NONE
                                              nullable: true
                                              type: string
                                          type: object
                                        default: {}
                                        description: Configuration per logger
                                        type: object
                                    type: object
                                  description: Log configuration per container.
                                  type: object
                                enableVectorAgent:
                                  description: Wether or not to deploy a container
                                    with the Vector log agent.
                                  nullable: true
                                  type: boolean
                              type: object
                            requestedSecretLifetime:
                              description: Request secret (currently only autoTls
                                certificates) lifetime from the secret operator, e.g.
                                `7d`, or `30d`. This can be shortened by the `maxCertificateLifetime`
                                setting on the SecretClass issuing the TLS certificate.
                              nullable: true
                              type: string
                            resources:
                              default:
                                cpu:
                                  max: null
                                  min: null
                                memory:
                                  limit: null
                                  runtimeLimits: {}
                                storage: {}
                              description: Resource usage is configured here, this
                                includes CPU usage, memory usage and disk storage
                                usage, if this role needs any.
                              properties:
                                cpu:
                                  default:
                                    max: null
                                    min: null
                                  properties:
                                    max:
                                      description: The maximum amount of CPU cores
                                        that can be requested by Pods. Equivalent
                                        to the `limit` for Pod resource configuration.
                                        Cores are specified either as a decimal point
                                        number or as milli units. For example:`1.5`
                                        will be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                    min:
                                      description: The minimal amount of CPU cores
                                        that Pods need to run. Equivalent to the `request`
                                        for Pod resource configuration. Cores are
                                        specified either as a decimal point number
                                        or as milli units. For example:`1.5` will
                                        be 1.5 cores, also written as `1500m`.
                                      nullable: true
                                      type: string
                                  type: object
                                memory:
                                  properties:
                                    limit:
                                      description: 'The maximum amount of memory that
                                        should be available to the Pod. Specified
                                        as a byte [Quantity](https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/),
                                        which means these suffixes are supported:
                                        E, P, T, G, M, k. You can also use the power-of-two
                                        equivalents: Ei, Pi, Ti, Gi, Mi, Ki. For example,
                                        the following represent roughly the same value:
                                        `128974848, 129e6, 129M,  128974848000m, 123Mi`'
                                      nullable: true
                                      type: string
                                    runtimeLimits:
                                      description: Additional options that can be
                                        specified.
                                      type: object
                                  type: object
                                storage:
                                  description: This role does not have any storage
                                    settings. Only the Historical role uses disk storage.
                                  type: object
                              type: object
                          type: object
                        configOverrides:
                          additionalProperties:
                            additionalProperties:
                              type: string
                            type: object
                          default: {}
                          description: The `configOverrides` can be used to configure
                            properties in product config files that are not exposed
                            in the CRD. Read the [config overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#config-overrides)
                            and consult the operator specific usage guide documentation
                            for details on the available config files and settings
                            for the specific product.
                          type: object
                        envOverrides:
                          additionalProperties:
                            type: string
                          default: {}
                          description: '`envOverrides` configure environment variables
                            to be set in the Pods. It is a map from strings to strings
                            - environment variables and the value to set. Read the
                            [environment variable overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#env-overrides)
                            for more information and consult the operator specific
                            usage guide to find out about the product specific environment
                            variables that are available.'
                          type: object
                        jvmArgumentOverrides:
                          default:
                            add: []
                            remove: []
                            removeRegex: []
                          description: Allows overriding JVM arguments. Please read
                            on the [JVM argument overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#jvm-argument-overrides)
                            for details on the usage.
                          properties:
                            add:
                              default: []
                              description: JVM arguments to be added
                              items:
                                type: string
                              type: array
                            remove:
                              default: []
                              description: JVM arguments to be removed by exact match
                              items:
                                type: string
                              type: array
                            removeRegex:
                              default: []
                              description: JVM arguments matching any of this regexes
                                will be removed
                              items:
                                type: string
                              type: array
                          type: object
                        podOverrides:
                          default: {}
                          description: In the `podOverrides` property you can define
                            a [PodTemplateSpec](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core)
                            to override any property that can be set on a Kubernetes
                            Pod. Read the [Pod overrides documentation](https://docs.stackable.tech/home/25.3/concepts/overrides#pod-overrides)
                            for more information.
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                        replicas:
                          format: uint16
                          minimum: 0.0
                          nullable: true
                          type: integer
                      type: object
                    type: object
                required:
                - roleGroups
                type: object
            required:
            - brokers
            - clusterConfig
            - coordinators
            - historicals
            - image
            - middleManagers
            - routers
            type: object
          status:
            nullable: true
            properties:
              conditions:
                default: []
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      format: date-time
                      nullable: true
                      type: string
                    lastUpdateTime:
                      description: The last time this condition was updated.
                      format: date-time
                      nullable: true
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      nullable: true
                      type: string
                    reason:
                      description: The reason for the condition's last transition.
                      nullable: true
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      enum:
                      - 'True'
                      - 'False'
                      - Unknown
                      type: string
                    type:
                      description: Type of deployment condition.
                      enum:
                      - Available
                      - Degraded
                      - Progressing
                      - ReconciliationPaused
                      - Stopped
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
            type: object
        required:
        - spec
        title: DruidCluster
        type: object
    served: true
    storage: true
    subresources:
      status: {}
